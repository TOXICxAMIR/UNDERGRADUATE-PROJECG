(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8748],{90525:function(e,t,i){"use strict";i.d(t,{F:function(){return r}});var n=i(95795);let r={[n.l.COMMERCIAL_FOR_RENT]:"commercial_rent",[n.l.COMMERCIAL_FOR_SALE]:"commercial_buy",[n.l.RESIDENTIAL_FOR_RENT]:"rent",[n.l.RESIDENTIAL_FOR_SALE]:"buy",[n.l.NEW_PROJECTS]:"new_projects_buy"}},8454:function(e,t,i){"use strict";i.d(t,{F:function(){return n}});let n=25},11727:function(e,t,i){"use strict";let n;i.d(t,{T:function(){return d}});var r=i(32537),a=i(279),o=i(22601),s=i(86114),l=i(40781),c=i(21313);class u{load(e,t){this.context=t,(0,c.G)().propertyLoad(parseInt(e.id,10),this.context)}impression(e,t){let i=parseInt(e.id,10);this.context=t,e.liveViewing&&this.sendCustomEventViaStatsData(i,"Live Viewing","Impression"),e.videoUrl&&this.sendCustomEventViaStatsData(i,"Virtual Tour","Impression"),this.sendCustomEventViaStatsData(i,"360","Impression",e=>!!e.has360View),(0,c.G)().propertyImpression(i,this.context)}click(e){let t=parseInt(e.id,10);e.liveViewing&&this.sendCustomEventViaStatsData(t,"Live Viewing","Click"),e.videoUrl&&this.sendCustomEventViaStatsData(t,"Virtual Tour","Click"),this.sendCustomEventViaStatsData(t,"360","Click",e=>!!e.has360View),(0,c.G)().propertyClick(t,{...this.context||{},authentication:{attributionId:(0,l.j)().push("property",t.toString())}})}sendCustomEventViaStatsData(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0;(0,o.E)(()=>(0,a.StatsDataService)().getPropertyStore().load(e).then(e=>{let a=new r.GtmStatsAdapterListingStatus(e.listingStatusDisplayed).getData();n(e)&&s.q.send({event:"customEvent",eventCategory:t,eventAction:"".concat(t," - ").concat(i," - ").concat(a),eventLabel:"".concat(this.pageType," - ").concat(t," - ").concat(i," - ").concat(a)})}).catch(console.error))}constructor(e,t,i){this.pageType=e,this.abTests=t,this.context=i}}function d(e,t){return n||(n=new u(t||"",e)),n}},65362:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var n=i(5152),r=i.n(n);let a=r()(()=>Promise.all([i.e(1876),i.e(1036),i.e(6235)]).then(i.bind(i,71761)).then(e=>e.SanitizeHtmlAsync),{loadableGenerated:{webpack:()=>[71761]},ssr:!0})},350:function(e,t,i){"use strict";i.d(t,{i:function(){return S}});var n,r=i(85893),a=i(67294),o=i(31845);(n||(n={})).SLIDE_UP="transition-slide-up";var s=i(29615),l=i(44965),c=i.n(l);let u=e=>({[n.SLIDE_UP]:{classNames:{appear:c()["transition-slide-up-appear"],appearActive:c()["transition-slide-up-appear-active"],appearDone:c()["transition-slide-up-appear-done"],enter:c()["transition-slide-up-enter"],enterActive:c()["transition-slide-up-enter-active"],enterDone:c()["transition-slide-up-enter-done"],exit:c()["transition-slide-up-exit"],exitActive:c()["transition-slide-up-exit-active"],exitDone:c()["transition-slide-up-exit-done"]},unmountOnExit:!0,mountOnEnter:!0,appear:!0,timeout:700}})[e],d=e=>{let{type:t,children:i,...n}=e;return(0,r.jsx)(s.Z,{...u(t),...n,children:i})};var p=i(38566),g=i.n(p);let _=e=>{let{message:t,action:i,className:n,autoHideDuration:s,onClose:l=o.functionNoop}=e,c=(0,a.useRef)(null),u=(0,o.domToChildArray)(i,e=>["button","a"].includes(e.type)).slice(0,2),d=e=>(null==c?void 0:c.current)&&c.current.contains(e.target);return(0,a.useEffect)(()=>{if(s&&s>0){let e=setTimeout(l,1e3*s);return()=>clearTimeout(e)}},[]),(0,a.useEffect)(()=>{let e=e=>{d(e)||l()};return window.document.addEventListener("click",e),()=>window.document.removeEventListener("click",e)},[]),(0,r.jsxs)("div",{ref:c,"data-key":"snackbar",className:(0,o.domClassMerge)(g().snackbar,{[g()["snackbar--wrap"]]:u.length>1},n),children:[(0,r.jsx)("p",{className:g().snackbar_message,"data-key":"snackbar-message",children:t}),!!u.length&&(0,r.jsx)("div",{className:g().snackbar_actions,"data-key":"snackbar-actions",children:u})]})},v=e=>{let{id:t,visible:i,message:s,action:l,autoHideDuration:c=5,onClose:u=o.functionNoop,onOpen:p=o.functionNoop,setHeight:v=o.functionNoop}=e,m=(0,a.useRef)(null),[f,E]=(0,a.useState)(null),[S,h]=(0,a.useState)([]),b=()=>{E(null),u()};return(0,a.useEffect)(()=>{t&&(h(S.slice(-1).concat({id:t,message:s,action:l,autoHideDuration:c})),E(t))},[t]),(0,a.useEffect)(()=>{!i&&f&&b()},[i]),(0,r.jsx)("div",{className:g().snackbar_container,ref:m,children:S.map(e=>(0,r.jsx)(d,{in:f===e.id&&i,type:n.SLIDE_UP,onEnter:()=>{var e,t,i;let n=null==m?void 0:null===(i=m.current)||void 0===i?void 0:null===(t=i.children)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.getBoundingClientRect();v((null==n?void 0:n.height)||0),p({domReact:n})},onExit:()=>{v(0)},children:(0,r.jsx)(_,{...e,onClose:()=>b()})},e.id))})};var m=i(58018),f=i(69991);let E=e=>{let{children:t}=e;return(0,r.jsx)(f.i,{rootId:"snackbar-root",children:t})},S=e=>{let{children:t}=e,[i,n]=(0,a.useState)({}),[o,s]=(0,a.useState)(0);return(0,r.jsxs)(m.S.Provider,{value:{alert:e=>{let t=void 0===e.autoHideDuration&&e.action?8:e.autoHideDuration;n({...e,id:Math.random().toString(16).replace("0.",""),visible:!0,autoHideDuration:t})},height:o,hide:()=>n({...i,visible:!1})},children:[t,(0,r.jsx)(E,{children:(0,r.jsx)(v,{...i,setHeight:s})})]})}},58018:function(e,t,i){"use strict";i.d(t,{S:function(){return r}});var n=i(67294);let r=(0,n.createContext)({alert:()=>null,hide:()=>null,height:0})},71894:function(e,t,i){"use strict";function n(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e-t;return e.length===(null===(i=t)||void 0===i?void 0:i.length)&&(e=e.slice().sort(n),t=t.slice().sort(n),e.every((e,i)=>0===n(t[i],e)))}i.d(t,{Q:function(){return n}})},2141:function(e,t,i){"use strict";i.d(t,{L:function(){return r}});var n=i(95795);let r=e=>e===n.l.COMMERCIAL_FOR_RENT||e===n.l.RESIDENTIAL_FOR_RENT},17542:function(e,t,i){"use strict";i.d(t,{A:function(){return A}});var n=i(279),r=i(67294),a=i(40809),o=i(90525),s=i(84995),l=i(11727),c=i(99279),u=i(71894),d=i(36948),p=i(72621),g=i(33235);let _=e=>{var t,i,n;let{agent:r,position:a,positionPage:o}=e;return{id:(null==r?void 0:r.id)||0,position:a||0,positionPage:o||a||0,listingStatus:"Area Specialist Agent",name:(null==r?void 0:r.name)||"",broker:{id:(null==r?void 0:null===(t=r.broker)||void 0===t?void 0:t.id)||0,name:(null==r?void 0:null===(i=r.broker)||void 0===i?void 0:i.name)||""},jobPosition:null==r?void 0:r.position,rera:null==r?void 0:r.licenseNumber,image:(null==r?void 0:null===(n=r.image)||void 0===n?void 0:n.links.desktop)||"",isSmartAd:0,isSmartAdAgent:0,isVerified:null==r?void 0:r.verified}},v=e=>{let{broker:t,position:i,positionPage:n}=e;return{id:(null==t?void 0:t.id)||0,position:i||0,positionPage:n||i||0,listingStatus:"standard",name:(null==t?void 0:t.name)||"",isSmartAd:0}};var m=i(15547),f=i(856);let E=(e,t)=>{let i=new Map;if(i.set("trigger",e),t.text&&i.set("text",t.text),t.id&&i.set("agent_id",t.id),t.location_id&&i.set("location_id",t.location_id),t.category_id&&i.set("category_id",t.category_id),t.nationality&&i.set("nationality_id",t.nationality),t.language_ids){var n,r;i.set("language_ids",null===(r=t.language_ids)||void 0===r?void 0:null===(n=r.split(","))||void 0===n?void 0:n.map(e=>parseInt(e,10)))}return t.sort&&i.set("sort_id",t.sort),(0,f.U)(Object.fromEntries(i),!1)},S=(e,t)=>{let i=new Map;return i.set("trigger",e),t.text&&i.set("text",t.text),t.id&&i.set("agent_id",t.id),t.location_id&&i.set("location_id",t.location_id),t.category_id&&i.set("category_id",t.category_id),t.sort&&i.set("sort_id",t.sort),(0,f.U)(Object.fromEntries(i),!1)},h=e=>{var t;let i=new Map;i.set("category",parseInt(e[s.T.CATEGORY_ID],10)),i.set("locations",e[s.T.LOCATION_IDS].map(e=>parseInt(e.id,10))),i.set("property_type_id",parseInt(e[s.T.PROPERTY_TYPE_ID],10)),i.set("rental_period",e[s.T.PRICE_PERIOD]),i.set("price_min",e[s.T.MIN_PRICE]),i.set("price_max",e[s.T.MAX_PRICE]),i.set("area_min",e[s.T.MIN_AREA]),i.set("area_max",e[s.T.MAX_AREA]),i.set("furnished",parseInt(e[s.T.FURNISHING]||"",10)),i.set("amenities",null===(t=e[s.T.AMENITIES])||void 0===t?void 0:t.map(e=>e)),i.set("keywords",e[s.T.KEYWORD]),i.set("is_developer_property",e[s.T.IS_DEVELOPER_PROPERTY]?"true":"false"),i.set("min_installment_years",e[s.T.MIN_INSTALLMENT_YEARS]),i.set("max_installment_years",e[s.T.MAX_INSTALLMENT_YEARS]),i.set("sort",e[s.T.SORT]),i.set("virtual_viewings",e[s.T.VIRTUAL_VIEWINGS]),i.set("completion_status",e[s.T.COMPLETION_STATUS]);let n=e[s.T.BEDROOMS];(null==n?void 0:n.length)&&(i.set("bedroom_min",parseInt(n[0])),i.set("bedroom_max",n.length>1?parseInt(n[n.length-1],10):""));let r=e[s.T.BATHROOMS];return(null==r?void 0:r.length)&&(i.set("bedroom_min",parseInt(r[0])),i.set("bedroom_max",r.length>1?parseInt(r[r.length-1],10):"")),(0,f.U)(Object.fromEntries(i),!1)};var b=i(8454),T=i(2141),I=i(49618);let k=e=>({off_plan:"off_plan","off plan":"off_plan",completed:"completed"})[e]||null,y=e=>{var t,i;let{property:n,index:r,pageNumber:a,categoryId:s,countryConfigs:l}=e,c=o.F[s],u=(0,T.L)(s),d=n.agent,p=n.broker,g=n.price.period,_=(0,I.I)(n),v=n.isSmartAd,m=n.isCts,f=n.isCommunityExpert;return{id:parseInt(n.id,10),referenceNumber:n.reference,bedrooms:n.bedrooms,bathrooms:n.bathrooms,agent:{id:d?parseInt(d.id,10):0,name:(null==d?void 0:d.name)||"",isVerified:(null==d?void 0:d.isVerified)||!1},broker:{id:p?parseInt(p.id,10):0,name:(null==p?void 0:p.name)||""},title:n.title,url:n.shareUrl,image:null===(i=n.images)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.medium,licenseRera:n.rera,offeringType:c,housingType:n.propertyType.toLowerCase(),housingTypeId:parseInt(n.propertyTypeId,10),listingStatus:_,listingStatusDisplayed:f?"Area Specialist Property":n.listingLevelLabel,rentalPeriod:u?g:"",rentalPeriodId:u?g.toLowerCase():"",size:n.size.value,agentUserId:(null==d?void 0:d.userId)?parseInt(d.userId):0,verified:n.isVerified?"Verified":"Not verified",qs:n.qs,rsp:n.rsp,rss:n.rss,furnished:n.furnished,images:n.images.length,locations:(n.locationTreeCompact||[]).map(e=>parseInt(e.id,10)),getPriceOnApp:n.price.isHidden,price:n.price.value,priceTxt:n.price.text,currency:l.currencyCode,subtitle:n.subtitle,mortgageRent:!1,moveSouq:!1,position:b.F*(a-1)+r+1,positionPage:r+1,isSmartAd:v?1:0,isCtsProperty:m?1:0,isAreaSpecialistProperty:f?1:0,completionStatus:k(n.completionStatus),isExclusive:n.isExclusive,has360View:n.hasView360,newProjects:n.isNewConstruction}};var R=i(21313);let A=e=>{var t,i,f,b,T,I,k,A;let{abTests:C,countryConfigs:x}=(0,g.A)(),P=(0,a.O_)(),D=(0,r.useRef)(),w=(0,r.useRef)([]),N=(0,r.useRef)([]),O=(0,r.useRef)([]),L=(0,r.useRef)(!1),V=[],M=[],G=[];if(!P)return;if(e.pageType===c.D.HOME){if(L.current)return}else if(V=(null!==(b=e.properties)&&void 0!==b?b:[]).map(e=>e.id),M=(null!==(T=e.agents)&&void 0!==T?T:[]).map(e=>String(e.id)),G=(null!==(I=e.brokers)&&void 0!==I?I:[]).map(e=>String(e.id)),D.current===e.filtersValueFromQuery||(0,u.Q)(w.current,V)&&(0,u.Q)(N.current,M)&&(0,u.Q)(O.current,G))return;let j=(0,R.G)(),F=(0,m.Q)();j.reset(),F.setAbTests(e.abTests);let Q=(0,l.T)(C,e.pageType),U=(0,d.M)(),B=(0,p.u)();switch(e.pageType){case c.D.PROPERTY_SERP:case c.D.LTP:F.setPropertySerp(!0),F.setPropertySearch(h(e.filtersValueFromQuery)),F.setPropertyCategoryIdentifier(o.F[e.filtersValueFromQuery[s.T.CATEGORY_ID]]);break;case c.D.AGENT_DETAIL:F.setAgentPage(!0);break;case c.D.AGENT_SERP:F.setAgentSerp(!0),F.setAgentSearch(E("update",e.filtersValueFromQuery));break;case c.D.AGENT_LANDING:F.setAgentHome(!0);break;case c.D.BROKER_DETAIL:F.setBrokerPage(!0);break;case c.D.BROKER_SERP:F.setBrokerSerp(!0),F.setBrokerSearch(S("update",e.filtersValueFromQuery));break;case c.D.BROKER_LANDING:F.setBrokerHome(!0);break;case c.D.PROJECT_DETAIL:F.setProjectDetail(!0);break;case c.D.HOME:F.setHomePage(!0),L.current=!0}switch(j.pageView(),e.pageType){case c.D.LTP:case c.D.PROPERTY_SERP:case c.D.PROJECT_DETAIL:j.propertySerp(e.localContext);break;case c.D.BROKER_SERP:j.brokerSerp(e.localContext);break;case c.D.AGENT_SERP:j.agentSerp(e.localContext);break;case c.D.HOME:j.homePage()}(null==e?void 0:null===(t=e.agents)||void 0===t?void 0:t.length)&&(null===(k=e.agents)||void 0===k||k.forEach((t,i)=>{let r=i+1;e.localContext.pagination.pageCurrent&&e.localContext.pagination.itemPerPage&&(r+=(e.localContext.pagination.pageCurrent-1)*e.localContext.pagination.itemPerPage),(0,n.StatsDataService)().getAgentStore().add(_({agent:t,position:r,positionPage:i+1})),U.load(t,e.localContext)})),(null==e?void 0:null===(i=e.brokers)||void 0===i?void 0:i.length)&&(null===(A=e.brokers)||void 0===A||A.forEach((t,i)=>{let r=i+1;e.localContext.pagination.pageCurrent&&e.localContext.pagination.itemPerPage&&(r+=(e.localContext.pagination.pageCurrent-1)*e.localContext.pagination.itemPerPage),(0,n.StatsDataService)().getBrokerStore().add(v({broker:t,position:r,positionPage:i+1})),B.load(t,e.localContext)})),(null===(f=e.properties)||void 0===f?void 0:f.length)>0&&e.properties.forEach((t,i)=>{(0,n.StatsDataService)().getPropertyStore().add(y({property:t,index:i,pageNumber:e.filtersValueFromQuery[s.T.PAGE_NUMBER],categoryId:e.filtersValueFromQuery[s.T.CATEGORY_ID],countryConfigs:x})),Q.load(t,e.localContext)}),D.current=e.filtersValueFromQuery,w.current=V,N.current=M,O.current=G}},36948:function(e,t,i){"use strict";let n;i.d(t,{M:function(){return o}});var r=i(40781),a=i(21313);function o(){if(!n){let e;e={},n={load(t,i){e=i,(0,a.G)().agentLoad(t.id,i)},impression(e,t){(0,a.G)().agentImpression(e.id,t)},click(t){(0,a.G)().agentClick(t.id,{...e||{},authentication:{attributionId:(0,r.j)().push("agent",t.id.toString())}})}}}return n}},72621:function(e,t,i){"use strict";let n;i.d(t,{u:function(){return o}});var r=i(40781),a=i(21313);function o(){if(!n){let e;e={},n={load(t,i){e=i,(0,a.G)().brokerLoad(t.id,i)},impression(e,t){(0,a.G)().brokerImpression(e.id,t)},click(t){(0,a.G)().brokerClick(t.id,{...e||{},authentication:{attributionId:(0,r.j)().push("broker",t.id.toString())}})}}}return n}},40781:function(e,t,i){"use strict";let n;i.d(t,{j:function(){return s}});var r=i(66522),a=i(26823),o=i(96008);function s(){if(!n&&o.z){let e=(0,r.q)();e.setStorage(window.localStorage),n=new a.G(e)}return n}},21313:function(e,t,i){"use strict";let n;i.d(t,{G:function(){return T}});var r=i(70105),a=i(66522),o=i(118),s=i(21242),l=i(1805),c=i(68088),u=i(14055),d=i(57522),p=i(77037),g=i(47130),_=i(3835),v=i(22601),m=i(43030),f=i(50403),E=i(33321),S=i(15547);let h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");let i=RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=i.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\\+/g," ")):"":null},b={init:()=>{let e=!!h("trace-stats");(0,_.o)().activate(e)}};function T(){if(!n){let e=f.k.get(),t=new o.E(window);t.setDelay(1e3),n=new p.U((0,s.F)(),(0,S.Q)(),(0,g.h)(),(0,_.o)()),b.init();let i={isAuthorized:()=>!0};new u.Snowplow2StatsObserver(new d.j(window,(0,_.o)(),i)).attachListeners(n),new l.GtmStatsObserver(new c.A(window,t,(0,_.o)(),i)).attachListeners(n);let h=(0,a.q)();h.setStorage(window.localStorage),(0,S.Q)().initialize({authentication:{token:new r.u(h).getToken()},application:m.Y,country:e.countryCode,currency:e.currencyCode,language:E.O.getLocale()});let T=n.propertyLeadClick.bind(n);n.propertyLeadClick=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];(0,v.E)(()=>T(...t))}}return n}},49618:function(e,t,i){"use strict";i.d(t,{I:function(){return n}});let n=e=>e.isPremium?"premium":e.isFeatured?"featured":"standard"},38566:function(e){e.exports={snackbar_container:"snackbar_snackbar_container___X0Er",snackbar:"snackbar_snackbar__jNlS7","snackbar--wrap":"snackbar_snackbar--wrap__P_AWx",snackbar_message:"snackbar_snackbar_message__AzfRN",snackbar_actions:"snackbar_snackbar_actions__xrx39"}},44965:function(e){e.exports={"transition-slide-up-appear":"transition_transition-slide-up-appear__eYrzJ","transition-slide-up-appear-active":"transition_transition-slide-up-appear-active__XmNZm","transition-slide-up-appear-done":"transition_transition-slide-up-appear-done__Mz_Br","transition-slide-up-exit":"transition_transition-slide-up-exit__IMCAN","transition-slide-up-exit-active":"transition_transition-slide-up-exit-active__qvfne","transition-slide-up-exit-done":"transition_transition-slide-up-exit-done__ilP2Q"}}}]);