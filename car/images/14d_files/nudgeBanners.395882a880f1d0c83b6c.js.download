(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{2802:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(2),a=n(41),o=n(563),c=n(5),l=n(259),u=Object(c.createSelector)((function(e){return e.nudges}),(function(e){return e.lastDisplayedAt})),s=Object(c.createSelector)(o.a,u,(function(e,t){return e.filter((function(e){return e.eventType===l.a.PROPERTY_PAGE_VIEW&&e.timestamp>t})).length>=3||0===t})),f=n(1149),b=n(205),m=n(67),d=n(14);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var y=["trigger"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=function(e){return Object(m.a)((function(t){var n=t.trigger,i=E(t,y);return r.createElement(e,v(v({},i),{},{trackNudgeBannerView:function(e){return n(d.a.NUDGE_BANNER_VIEW,{nudge_banner_type:e})}}))}))},w=n(320),j=n(113),I=n(3),_=n(4),S=n.n(_),D=n(6),N=n(3177),T=n.n(N),P=n(3178),A=n.n(P),L=n(3179),V=n.n(L),G=n(3180),x=n.n(G),H=n(212),R=n(18),k="b002f6e7",C="dafd2076",B="cb301909",F="_4b5ec45f",W="_2ddba896",U="_5aec18f5",Y="_8d846035",z={year:"numeric",day:"numeric",month:"long"},J=function(e){var t=e.property,n=Object(D.p)(),i=t.createdAt,a=i?new Date(1e3*i):new Date,o=Object(H.a)(a,n.language,z),c=r.createElement("span",null,r.createElement("b",null,r.createElement(I.Trans,{id:"New listing!"}))),l={en:T.a,ar:A.a,zh:V.a,ru:x.a}[n.language];return r.createElement("div",{className:S()([U,k])},r.createElement(R.a,{loadingBarClassname:Y},r.createElement("div",{className:C},r.createElement("div",{className:B},r.createElement("img",{alt:"freshListingIcon",src:l,className:F})),r.createElement("div",{className:W},r.createElement(I.Trans,{id:"{newListing} Posted on {formattedDate}",values:{newListing:c,formattedDate:o}})))))},K=n(3181),M=n.n(K),Z="_83ff9543",$="_95338e95",q="b879b4ef",Q="_4daa68b3",X="_83b6e5a8",ee="f525b023",te="_80144a79",ne=function(){return r.createElement("div",{className:S()([ee,Z])},r.createElement(R.a,{loadingBarClassname:te},r.createElement("div",{className:$},r.createElement("div",{className:q},r.createElement("img",{alt:"topAgentIcon",src:M.a,className:Q})),r.createElement("div",{className:X},r.createElement(I.Trans,{id:"This is a highly reviewed agent! <0>Contact now</0>",components:[r.createElement("b",null)]})))))},re=n(3182),ie=n.n(re),ae="f7158de7",oe="_308a9c59",ce="_7afd1658",le="_0bf999c8",ue="_12b241d9",se="d6320996",fe="_56096926",be=function(e){var t=e.highlyViewedTier;return r.createElement("div",{className:S()([se,ae])},r.createElement(R.a,{loadingBarClassname:fe},r.createElement("div",{className:oe},r.createElement("div",{className:ce},r.createElement("img",{alt:"highlyViewedIcon",src:ie.a,className:le})),r.createElement("div",{className:ue},r.createElement(I.Trans,{id:"This listing is trending! <0>{highlyViewedTier}+</0> Views Today",values:{highlyViewedTier:t},components:[r.createElement("b",null)]})))))},me=Object.freeze({FRESH_LISTING:"fresh_listing",TOP_AGENT:"top_agent",HIGHLY_VIEWED_LISTING:"highly_viewed_listing"});function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==de(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===de(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee=Object.freeze({INITIAL:"initial",LOADING:"loading",LOADED:"loaded"}),he={highlyViewedTier:0};t.default=h((function(e){var t=e.property,n=e.trackNudgeBannerView,c=ve(r.useState(null),2),l=c[0],u=c[1],m=ve(r.useState(Ee.INITIAL),2),d=m[0],p=m[1],y=ve(r.useState(he),2),g=y[0],v=y[1],O=Object(i.useDispatch)(),E=Object(i.useSelector)(b.a),h=Object(i.useSelector)(o.b),I=Object(i.useSelector)(s),_=Object(w.a)(t.verification)===j.a.TRUCHECKED,S=r.useCallback((function(){return!(null!=t&&t.active&&0!==t.photos.length&&!_&&!h&&I)}),[t,I,h,_]);return r.useEffect((function(){v(he),p(Ee.INITIAL),u(null)}),[t.externalID]),r.useEffect((function(){S()||d===Ee.INITIAL&&(p(Ee.LOADING),(new a.a).getAdBannerData(t.externalID).then((function(e){p(Ee.LOADED);var t,n,r,i=(n=(t=e).status,r=t.data.items,200===n&&1===r.length&&0!==r[0].view_count_tier&&Date.parse(r[0].computed_at)/1e3>=Date.now()/1e3-172800?r[0].view_count_tier:0);i&&v((function(e){return ye(ye({},e),{},{highlyViewedTier:i})}))})).catch((function(e){p(Ee.LOADED)})))}),[S,d,t.externalID]),r.useEffect((function(){if(!S()&&d===Ee.LOADED)return function(e){return(null==e?void 0:e.highlyViewedTier)>0}(g)?(n(me.HIGHLY_VIEWED_LISTING),O(Object(f.b)(me.HIGHLY_VIEWED_LISTING,t.externalID)),void u(r.createElement(be,{highlyViewedTier:g.highlyViewedTier}))):null!=E&&E.topAgent?(O(Object(f.b)(me.TOP_AGENT,t.externalID)),n(me.TOP_AGENT),void u(r.createElement(ne,null))):void(function(e){return!!(e.createdAt&&e.createdAt>Date.now()/1e3-604800)}(t)&&(O(Object(f.b)(me.FRESH_LISTING,t.externalID)),n(me.FRESH_LISTING),u(r.createElement(J,{property:t}))))}),[g,t,E,h,O,n,d,S]),l}))},3177:function(e,t,n){e.exports=n.p+"iconFreshListingEN_noinline.88c879dae8f3a14bac3803168bad23d1.svg"},3178:function(e,t,n){e.exports=n.p+"iconFreshListingAR_noinline.d724040284463d986732b21e13185ac4.svg"},3179:function(e,t,n){e.exports=n.p+"iconFreshListingZH_noinline.9448f3edc9aae3d57c8256fec9c60b73.svg"},3180:function(e,t,n){e.exports=n.p+"iconFreshListingRU_noinline.01d12b7c3db83508464948c60d9b7479.svg"},3181:function(e,t,n){e.exports=n.p+"iconTopAgentListing_noinline.88ad918a111289858e4e40f0d259df2f.svg"},3182:function(e,t,n){e.exports=n.p+"iconHighlyViewedListing_noinline.da68952379554f6d1fb7a1e92fc8a6d7.svg"}}]);