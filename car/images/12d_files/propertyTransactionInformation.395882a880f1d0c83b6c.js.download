(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1789:function(e,t,n){e.exports=n.p+"iconChevronDown_noinline.2e8f4c7ee1473caed5270c5ed0f1869b.svg"},1810:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var r=function(e){return(e.transactionInformation||{}).data},a=function(e){return(e.transactionInformation||{}).loading},o=function(e){return(e.transactionInformation||{}).loaded},c=function(e){return(e.transactionInformation||{}).error}},2194:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n.n(a),c="_4b6fd844",l="_1b0f2038",i="_7158444b";function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t=e.tab,n=e.className,a=e.onClick;return r.createElement("span",{key:t.name,className:n,onClick:a},t.name)};t.a=function(e){var t=e.activeTabIndex,n=e.setActiveTabIndex,a=e.tabs,u=e.className,f=e.renderTabComponent,d=void 0===f?m:f,b=e.coloredSelectedTab,v=void 0===b||b?i:l;return r.createElement(r.Fragment,null,a.map((function(e,r){var a=o()(c,u,s({},v,t===r));return d({tab:e,onClick:function(){return n(r)},className:a})})))}},2912:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),o=n(4),c=n.n(o),l=n(3),i=n(261),u=n.n(i),s=n(50),m=n(6),f=n(2194),d=n(12),b=n(82),v=n(150),p=n(278),y=n(76),E=n(1789),S=n.n(E),w=n(340),T=n(83),g=n(884),h=n(1810),N=function(){var e=Object(a.useDispatch)(),t=Object(a.useSelector)(b.f),n=Object(a.useSelector)(h.a),o=Object(a.useSelector)(h.d),c=Object(a.useSelector)(h.c),l=Object(a.useSelector)(h.b);return r.useEffect((function(){var n;e(Object(g.b)({propertySK:null===(n=t.extraFields)||void 0===n?void 0:n.dldPropertySK}))}),[t.extraFields,e]),[n,o||!c&&!l]},O="e239f8ba",_="_43fde59c",j="_6ceef32f",A="_782409ef",I="b6117301",D="_3ba58a89",R="d2aae090",k="_8ba9c499",C="fc0630f0",x="_5c00db85",P="ce63ca4b",L="_6ce37c55",F="bad07ec9",M="_48df38e2",V="c7f68f79",U="_13371f14";function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,l=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return l}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"renderPrice",(function(){return q})),n.d(t,"getPropertyTransactionType",(function(){return z})),n.d(t,"formatTransactionDate",(function(){return B}));var q=function(e){return r.createElement("div",{className:V},r.createElement("span",{className:x},r.createElement(v.a,null)),r.createElement(p.a,{price:e}))},z=function(e,t){var n=t._("Other");switch(e){case T.f.SALE:n=t._("Sale");break;case T.f.MORTGAGE:n=t._("Mortgage");break;default:n=t._("Other")}return n},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return"Unknown";var r={year:"numeric",day:"numeric",month:n?"numeric":"long"};return Object(m.c)(new Date(e),t.language,r)},Q=function(e){var t=e.transactions,n=e.renderRow,a=e.i18n;return t&&t.length>0?r.createElement(r.Fragment,null,t.map((function(e,t){return n(e,t,a)}))):r.createElement("span",null,r.createElement(l.Trans,{id:"There is no transaction data available for this property."}))},W={SALE:function(e){var t=e.rowData,n=e.rowIndex,a=e.i18n,o=t.transactionCategory,c=t.transactionDate,l=t.transactionAmount;return r.createElement("li",{className:A,key:"row-sale-".concat(n)},r.createElement("span",null,B(c,a)),r.createElement("span",null,z(o,a)),r.createElement("span",null," ",l?q(l):a._("Not available")))},RENT:function(e){var t=e.rowData,n=e.rowIndex,a=e.i18n,o=t.contractValue,c=t.contractStartDate,i=t.contractEndDate,u=t.contractStatus===T.a.ACTIVE;return i&&t.contractStatus!==T.a.TERMINATED&&(u=i>=Date.now()),r.createElement("li",{className:A,key:"row-rent-".concat(n)},r.createElement("span",null,B(c,a,!0)),r.createElement("span",null,r.createElement("span",null,B(i,a,!0)),u?r.createElement("span",{className:M},r.createElement(l.Trans,{id:"Active"})):null),r.createElement("span",null," ",o?q(o):a._("Not available")))}},X={SALE:function(){return r.createElement("div",{className:I},r.createElement("span",null,r.createElement(l.Trans,{id:"Date"})),r.createElement("span",null,r.createElement(l.Trans,{id:"Transaction Type"})),r.createElement("span",null,r.createElement(l.Trans,{id:"Price"})))},RENT:function(){return r.createElement("div",{className:I},r.createElement("span",null,r.createElement(l.Trans,{id:"Start Date"})),r.createElement("span",null,r.createElement(l.Trans,{id:"End Date"})),r.createElement("span",null,r.createElement(l.Trans,{id:"Contract Value"})))}},Z=function(e){var t=e.tab,n=e.className,a=e.onClick;return r.createElement("h3",{key:t.name,className:n,onClick:a},t.name)};t.default=function(e){var t,n,o,i=e.rowRenderer,v=void 0===i?W:i,p=e.tableHeader,E=void 0===p?X:p,T=e.isCompact,g=void 0!==T&&T,h=e.maxRowsShown,A=void 0===h?3:h,I=Object(m.p)(),x=K(r.useState(0),2),M=x[0],V=x[1],G=K(r.useState(!0),2),Y=G[0],$=G[1],q=K(r.useState(!1),2),z=q[0],B=q[1],ee=r.useRef(null),te=K(N(),2),ne=te[0],re=te[1],ae=Object(a.useSelector)(b.w),oe=Object(a.useSelector)(b.s),ce=null==ne?void 0:ne.rent,le=null==ne?void 0:ne.sale,ie=oe===d.a.FOR_RENT,ue=[].concat(J(ie?[]:[{name:I._("Sale"),count:(null==le?void 0:le.length)||0}]),[{name:I._("Rent"),count:(null==ce?void 0:ce.length)||0}]);if(re)return r.createElement(s.a,null);if(!ae||u()(le)&&u()(ce))return r.createElement("div",null,r.createElement(l.Trans,{id:"Sorry, there is no transaction data available for this property."}));var se=ue&&(null===(t=ue[M])||void 0===t?void 0:t.count)>A,me=0===M&&!ie,fe=0===M?u()(le):u()(ce);return Y&&u()(le)&&($(!1),V(ie?0:1)),r.createElement(r.Fragment,null,r.createElement("div",{className:O},r.createElement(f.a,{tabs:ue,renderTabComponent:Z,activeTabIndex:M,setActiveTabIndex:function(e){Object(y.a)(w.a.DLD_TRANSACTION_HISTORY_PURPOSE,{name:"tab",value:ue[e].name}),V(e)},className:U})),r.createElement("div",{className:c()((n={},H(n,_,!fe),H(n,j,fe),n))},me&&!u()(le)&&E.SALE(),!me&&!u()(ce)&&E.RENT(),r.createElement("ul",{className:c()((o={},H(o,D,!g),H(o,R,g&&me),H(o,k,g&&!me),H(o,C,z),o)),ref:ee},r.createElement(Q,{transactions:me?le:ce,i18n:I,renderRow:function(e,t){return me?v.SALE({rowData:e,rowIndex:t,i18n:I}):v.RENT({rowData:e,rowIndex:t,i18n:I})}})),se?r.createElement("button",{onClick:function(){z&&ee.current&&(ee.current.scrollTop=0),B(!z)},className:P},z?r.createElement(l.Trans,{id:"View Less"}):r.createElement(l.Trans,{id:"View More"}),r.createElement("img",{alt:"chevron-down",src:S.a,className:c()(L,H({},F,z))})):null))}}}]);