"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5394],{31450:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.uuidGenerate=function(){var t=new Date().getTime();return performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?o:3&o|8).toString(16)})}},70105:function(t,e,o){var r=o(31450),a=function(){function t(t){this.browserStorageService=t}return t.prototype.getToken=function(){return this.token||(this.token=this.browserStorageService.getData(t.TOKEN_KEY),this.token||(this.token=r.uuidGenerate(),this.browserStorageService.setData(t.TOKEN_KEY,this.token))),this.token},t.TOKEN_KEY="pf-authentication-token-uuid",t}();e.u=a},66522:function(t,e,o){var r=o(46909);e.q=function(){return new r.BrowserStorage}},46909:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.setStorage=function(t){this.storage=t},t.prototype.setData=function(t,e){try{var o="object"==typeof e?JSON.stringify(e):e.toString();this.getStorage().setItem(t,o)}catch(t){console.error("Unable to stringify value")}},t.prototype.getData=function(t){var e=this.getStorage().getItem(t);if("string"==typeof e&&null!==e.match(/^({.*})|(\[.*\])$/g))try{e=JSON.parse(e)}catch(o){console.error("BrowserStorageLocal is unable to parse [key:",t,"][value:",e,"]")}return e},t.prototype.removeData=function(t){try{this.getStorage().removeItem(t)}catch(e){console.error("BrowserStorageLocal is unable to removeItem [",t,"] from storage")}},t.prototype.getStorage=function(){if(!this.storage)throw Error("Storage not defined in BrowserStorage");return this.storage},t}();e.BrowserStorage=o},118:function(t,e){var o=function(){function t(t){this.windowService=t,this.delay=2e3,this.queue={},this.timer={}}return t.prototype.setDelay=function(t){this.delay=t},t.prototype.getDelay=function(){return this.delay},t.prototype.add=function(t,e){this.getQueue(t).push(e)},t.prototype.flush=function(t){var e=this;return new Promise(function(o,r){e.getTimer(t)>0?r():e.setTimer(t,e.windowService.setTimeout(function(){var r=e.getQueue(t).slice(0);e.resetTimer(t),e.resetQueue(t),o(r)},e.delay))})},t.prototype.resetQueue=function(t){this.queue[t]=[]},t.prototype.getQueue=function(t){return this.queue[t]||(this.queue[t]=[]),this.queue[t]},t.prototype.resetTimer=function(t){this.timer[t]=0},t.prototype.getTimer=function(t){return this.timer[t]||0},t.prototype.setTimer=function(t,e){this.timer[t]=e},t}();e.E=o},82576:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(16077),a=o(32537),n=function(){function t(t,e){this.rawData=t,this.context=e}return t.prototype.getData=function(){var t=new r.GtmStatsAdapterList(this.context);return{id:(this.rawData.id||"").toString(),name:"Agent",price:"0",category:"",variant:"",position:String(this.rawData.position||""),quantity:1,dimension4:"",dimension5:"",dimension6:new a.GtmStatsAdapterListingStatus(this.rawData.listingStatus).getData(),dimension7:"",dimension8:"",dimension9:"",dimension10:"",dimension11:"",dimension12:"",dimension13:(this.rawData.id||"").toString(),dimension14:(this.rawData.broker&&this.rawData.broker.id||"").toString(),dimension15:"",dimension16:"",dimension17:"",dimension18:"",dimension19:"",dimension20:"",dimension21:"",dimension24:"",dimension29:"",dimension53:"",promotion:!!this.rawData.isSmartAd,list:t.getData()}},t}();e.GtmStatsAdapterAgent=n},44488:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(16077),a=function(){function t(t,e){this.rawData=t,this.context=e}return t.prototype.getData=function(){var t=new r.GtmStatsAdapterList(this.context);return{id:(this.rawData.id||"").toString(),name:"Broker",price:"0",category:"",variant:"",position:String(this.rawData.position||""),quantity:1,dimension4:"",dimension5:"",dimension6:"",dimension7:"",dimension8:"",dimension9:"",dimension10:"",dimension11:"",dimension12:"",dimension13:"",dimension14:(this.rawData.id||"").toString(),dimension15:"",dimension16:"",dimension17:"",dimension18:"",dimension19:"",dimension20:"",dimension21:"",dimension24:"",dimension29:"",dimension53:"",promotion:!!this.rawData.isSmartAd,list:t.getData()}},t}();e.GtmStatsAdapterBroker=a},5030:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.categoryIdentifier=t,this.mapping={buy:"Residential for Sale",rent:"Residential for Rent",commercial_buy:"Commercial for Sale",commercial_rent:"Commercial for Rent"}}return t.prototype.getData=function(){return this.mapping[this.categoryIdentifier]||""},t}();e.GtmStatsAdapterCategory=o},61927:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){if(!this.context.global.currency)throw Error('Stats global context "currency" is not set.');return{ecommerce:{currencyCode:this.context.global.currency,add:{products:[this.entity]}},event:"addToCart"}},t}();e.GtmStatsAdapterEcommerceAddToCart=o},26152:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){if(!this.context.global.currency)throw Error('Stats global context "currency" is not set.');var t=0;return this.context.local.lead&&"email"===this.context.local.lead.medium?t=6:this.context.local.lead&&"call_back"===this.context.local.lead.medium?t=8:(this.context.global.property_page||this.context.global.agent_page||this.context.global.broker_page)&&(t=1),"1"===this.entity.metric2&&(t=2),{ecommerce:{checkout:{actionField:{action:"checkout",step:String(t),list:this.entity.list},products:[this.entity]},currencyCode:this.context.global.currency},event:"checkout"}},t}();e.GtmStatsAdapterEcommerceCheckout=o},60959:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.entity=t}return t.prototype.getData=function(){return{ecommerce:{impressions:[this.entity]},event:"impressionOnScroll"}},t}();e.GtmStatsAdapterEcommerceImpressionOnScroll=o},82774:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){if(!this.context.global.currency)throw Error('Stats global context "currency" is not set.');return{ecommerce:{currencyCode:this.context.global.currency,click:{actionField:{action:"click",list:this.entity.list},products:[this.entity]}},event:"productClick"}},t}();e.GtmStatsAdapterEcommerceProductClick=o},97998:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){if(!this.context.global.currency)throw Error('Stats global context "currency" is not set.');return{ecommerce:{currencyCode:this.context.global.currency,detail:{products:[this.entity]}},event:"productView"}},t}();e.GtmStatsAdapterEcommerceProductView=o},91515:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.promotion=t}return t.prototype.getData=function(){return{ecommerce:{promoClick:{promotions:[this.promotion]}},event:"promotionClick"}},t}();e.GtmStatsAdapterEcommercePromotionClick=o},66478:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.promotion=t}return t.prototype.getData=function(){return{ecommerce:{promoView:{promotions:[this.promotion]}},event:"promotionImpression"}},t}();e.GtmStatsAdapterEcommercePromotionImpression=o},65508:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.entity=t,this.context=e,this.affiliationMapping={"phone-link":"Display phone number","phone-button":"Call","email-button":"Email","sms-button":"SMS","whatsapp-button":"Whatsapp","call_back-button":"Callback"}}return t.prototype.getData=function(){if(!this.context.global.currency)throw Error('Stats global context "currency" is not set.');var t=this.context.local.lead&&this.affiliationMapping[this.context.local.lead.medium+"-"+this.context.local.lead.cta]||"";return{ecommerce:{purchase:{actionField:{action:"purchase",id:String(this.entity.id),affiliation:t,revenue:"1",list:this.entity.list},products:[this.entity]},currencyCode:this.context.global.currency},event:"purchase"}},t}();e.GtmStatsAdapterEcommercePurchase=o},11294:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){if(!this.context.global.currency)throw Error('Stats global context "currency" is not set.');return{ecommerce:{currencyCode:this.context.global.currency,add:{products:[this.entity]}},event:"removeFromCart"}},t}();e.GtmStatsAdapterEcommerceRemoveFromCart=o},96096:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.enquiryType=t,this.mapping={to_buy:"To Buy",to_rent:"To Rent",to_sell:"To Sell",to_let:"To Let",other:"Other"}}return t.prototype.getData=function(){return this.mapping[this.enquiryType]||this.enquiryType},t}();e.GtmStatsAdapterEnquiryType=o},36923:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(36992),a=o(82774),n=o(91515),i=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){var t=[];if(t.push(new a.GtmStatsAdapterEcommerceProductClick(this.entity,this.context).getData()),this.entity.promotion){var e=new r.GtmStatsAdapterPromotion(this.entity).getData();t.push(new n.GtmStatsAdapterEcommercePromotionClick(e).getData())}return t},t}();e.GtmStatsAdapterEntityClick=i},73458:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(36992),a=o(60959),n=o(66478),i=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){var t=[];if(t.push(new a.GtmStatsAdapterEcommerceImpressionOnScroll(this.entity).getData()),this.entity.promotion){var e=new r.GtmStatsAdapterPromotion(this.entity).getData();t.push(new n.GtmStatsAdapterEcommercePromotionImpression(e).getData())}return t},t}();e.GtmStatsAdapterEntityImpression=i},41999:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(26152),a=o(65508),n=o(76198),i=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){var t=[];switch(this.context.local.lead.medium){case"phone":case"sms":case"whatsapp":t.push(new a.GtmStatsAdapterEcommercePurchase(this.entity,this.context).getData(),new n.GtmStatsAdapterEventLead(this.entity,this.context).getData());break;case"email":case"call_back":t.push(new r.GtmStatsAdapterEcommerceCheckout(this.entity,this.context).getData())}return t},t}();e.GtmStatsAdapterEntityLeadClick=i},56498:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(65508),a=o(76198),n=o(82854),i=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){var t=[];return t.push(new r.GtmStatsAdapterEcommercePurchase(this.entity,this.context).getData(),new a.GtmStatsAdapterEventLead(this.entity,this.context).getData()),this.context.local.lead.email&&this.context.local.lead.email.emailAlert&&t.push(new n.GtmStatsAdapterEventEmailAlert().getData()),t},t}();e.GtmStatsAdapterEntityLeadSend=i},7356:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(97998),a=o(26152),n=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){return[new r.GtmStatsAdapterEcommerceProductView(this.entity,this.context).getData(),new a.GtmStatsAdapterEcommerceCheckout(this.entity,this.context).getData()]},t}();e.GtmStatsAdapterEntityPage=n},33045:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(94505),a=function(){function t(t){this.context=t}return t.prototype.getData=function(){var t={event:"Agents Section",eventAction:"Search:Agent",eventLabel:{Action:"Initial",Location:" ",Broker:" ",Text:" ",Page:0,Sort:" ",NumberOfResults:0,Agent:" ",ServiceNeeded:" ",Language:" ",Nationality:" "}};return t.eventLabel.Action=new r.GtmStatsAdapterSearchAction(this.context.global.agent_search.trigger).getData(),this.context.global.agent_search.location_id&&(t.eventLabel.Location=String(this.context.global.agent_search.location_id)),this.context.global.agent_search.broker_id&&(t.eventLabel.Broker=String(this.context.global.agent_search.broker_id)),this.context.global.agent_search.text&&(t.eventLabel.Text=String(this.context.global.agent_search.text)),this.context.local.pagination&&this.context.local.pagination.pageCurrent&&(t.eventLabel.Page=this.context.local.pagination.pageCurrent),this.context.global.agent_search.sort_text&&(t.eventLabel.Sort=this.context.global.agent_search.sort_text),this.context.local.pagination&&this.context.local.pagination.itemTotal&&(t.eventLabel.NumberOfResults=this.context.local.pagination.itemTotal),this.context.global.agent_search.agent_id&&(t.eventLabel.Agent=String(this.context.global.agent_search.agent_id)),this.context.global.agent_search.category_text&&(t.eventLabel.ServiceNeeded=this.context.global.agent_search.category_text),this.context.global.agent_search.language_texts&&this.context.global.agent_search.language_texts.length&&(t.eventLabel.Language=this.context.global.agent_search.language_texts.join(", ")),this.context.global.agent_search.nationality_text&&(t.eventLabel.Nationality=this.context.global.agent_search.nationality_text),t},t}();e.GtmStatsAdapterEventAgentSearch=a},87257:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(94505),a=function(){function t(t){this.context=t}return t.prototype.getData=function(){var t={event:"Agents Section",eventAction:"Search:Broker",eventLabel:{Action:"Initial",Location:" ",Broker:" ",Text:" ",Page:0,Sort:" ",NumberOfResults:0}};return t.eventLabel.Action=new r.GtmStatsAdapterSearchAction(this.context.global.broker_search.trigger).getData(),this.context.global.broker_search.location_id&&(t.eventLabel.Location=String(this.context.global.broker_search.location_id)),this.context.global.broker_search.broker_id&&(t.eventLabel.Broker=String(this.context.global.broker_search.broker_id)),this.context.global.broker_search.text&&(t.eventLabel.Text=this.context.global.broker_search.text),this.context.local.pagination&&this.context.local.pagination.pageCurrent&&(t.eventLabel.Page=this.context.local.pagination.pageCurrent),this.context.global.broker_search.sort_text&&(t.eventLabel.Sort=this.context.global.broker_search.sort_text),this.context.local.pagination&&this.context.local.pagination.itemTotal&&(t.eventLabel.NumberOfResults=this.context.local.pagination.itemTotal),t},t}();e.GtmStatsAdapterEventBrokerSearch=a},68874:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(16077),a=function(){function t(t){this.context=t,this.mappingDownload={app:"Download:App","app-android":"Download:Android App","app-ios":"Download:iOS App"},this.mappingClient={login:"Login:Client",register:"Register:Company"},this.mappingFilterProperty={0:"Filter Listings:All",1:"Filter Listings:For sale",2:"Filter Listings:For rent",3:"Filter Listings:Commercial sale",4:"Filter Listings:Commercial rent"},this.mappingSortProperty={mr:"Sort Listings:Featured",nd:"Sort Listings:Newest",pa:"Sort Listings:Price (low)",pd:"Sort Listings:Price (high)",ba:"Sort Listings:Beds (least)",bd:"Sort Listings:Beds (most)"},this.mappingSortSavedProperty={"-save_date":"Sort Listings:Recently saved",price:"Sort Listings:Price (low)","-price":"Sort Listings:Price (high)",recent:"Sort Listings:Recently posted"},this.mappingSortContactedProperty={"-contact_date":"Sort Listings:Recently contacted",price:"Sort Listings:Price (low)","-price":"Sort Listings:Price (high)",recent:"Sort Listings:Recently posted"},this.mappingSortMyNotesProperty={"-modified_date":"Sort Listings:Recently described",price:"Sort Listings:Price (low)","-price":"Sort Listings:Price (high)",recent:"Sort Listings:Recently posted"},this.mappingAuthentication={"login-popup":"Click:Log in Button","login-popup-tooltip":"Click:Log in Button","login-popup-tooltip-close-button":"Close:Save Property Pop Up","email-alert-start-login":"Signup:Start","email-alert-finish-login":"Signup:Finish","start-signin-facebook":"Start:Sign in with facebook","start-signin-google":"Start:Sign in with google","start-reset-password":"Start:Password Reset","finish-reset-password":"Finish:Password Reset","start-register":"Start:Sign up with Email","login-popup-from-lead":"Click:Sign in Button","login-popup-not-now-button":"Click:Not now Button","login-popup-close-button":"Click:Close Popup"},this.mappingSavedProperties={"start-finding":"Click:Start finding"},this.mappingCalculatorEvents={"lebanon-audi-calculator-widget":"Click Widget:Bank Audi","sarouty-simulateur-calculator-widget":"Click Widget:Sarouty Loan Simulator","esimsar-home-loan-calculator-widget":"Click Widget:Saudi Home Loans"},this.mappingNotesProperties={"save-property-note":"Save:Property Note","delete-property-note":"Delete:Property Note","login-property-note":"Click:Sign in Button"}}return t.prototype.getData=function(){if(!this.context.local.cta)throw Error('Stats local context "cta" is not set.');if(this.context.local.cta.download)return this.getEvent("User Interaction",this.mappingDownload[this.context.local.cta.download]);if(this.context.local.cta.client)return this.getEvent("User Interaction",this.mappingClient[this.context.local.cta.client]);if(this.context.local.cta.filter&&this.context.local.cta.filter.property)return this.getEvent(this.context.global.agent_page||this.context.global.broker_page?"Agents Section":"User Interaction",this.mappingFilterProperty[this.context.local.cta.filter.property]);if(this.context.local.cta.sort){if(this.context.local.cta.sort.property)return this.getEvent(this.context.global.agent_page||this.context.global.broker_page?"Agents Section":"",this.mappingSortProperty[this.context.local.cta.sort.property]);if(this.context.local.cta.sort.savedProperty)return this.getEvent("User Interaction",this.mappingSortSavedProperty[this.context.local.cta.sort.savedProperty]);if(this.context.local.cta.sort.contactedProperty)return this.getEvent("User Interaction",this.mappingSortContactedProperty[this.context.local.cta.sort.contactedProperty]);if(this.context.local.cta.sort.myNotesProperty)return this.getEvent("User Interaction",this.mappingSortMyNotesProperty[this.context.local.cta.sort.myNotesProperty])}if(this.context.local.cta.notes)return"login-property-note"===this.context.local.cta.notes.name?this.getEvent("Userbox",this.mappingNotesProperties[this.context.local.cta.notes.name]):this.getEvent("User Interaction",this.mappingNotesProperties[this.context.local.cta.notes.name]);if(this.context.local.cta.authentication)return"login-popup-tooltip-close-button"===this.context.local.cta.authentication?this.getEvent("User Interaction",this.mappingAuthentication[this.context.local.cta.authentication]):"email-alert-start-login"===this.context.local.cta.authentication||"email-alert-finish-login"===this.context.local.cta.authentication?this.getEvent("Email Alert",this.mappingAuthentication[this.context.local.cta.authentication]):this.getEvent("Userbox",this.mappingAuthentication[this.context.local.cta.authentication]);if(this.context.local.cta.savedProperties)return this.getEvent("User Interaction",this.mappingSavedProperties[this.context.local.cta.savedProperties]);if(this.context.local.cta.event&&this.context.local.cta.event.name&&this.context.local.cta.event.action)return this.getEvent(this.context.local.cta.event.name,this.context.local.cta.event.action);if(this.context.local.cta.calculator)return this.getEvent("User Interaction",this.mappingCalculatorEvents[this.context.local.cta.calculator.name]);throw Error("GtmStatsAdapterEventCtaClick is unable to define the event.")},t.prototype.getEvent=function(t,e){var o={event:t,eventAction:e,eventLabel:new r.GtmStatsAdapterList(this.context).getData()};if(!o.event)throw Error("GtmStatsAdapterEventCtaClick is unable to define the event name.");if(!o.eventAction)throw Error("GtmStatsAdapterEventCtaClick is unable to define the event action.");return o},t}();e.GtmStatsAdapterEventCtaClick=a},90562:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){if(!this.context.local.cta)throw Error('Stats local context "cta" is not set.');if(this.context.local.cta.customEvent)return this.getEvent(this.context.local.cta.customEvent.name,this.context.local.cta.customEvent.action,this.context.local.cta.customEvent.label);throw Error("GtmStatsAdapterEventCustomCtaClick is unable to define the event.")},t.prototype.getEvent=function(t,e,o){var r={event:t,eventAction:e,eventLabel:o};if(!r.event)throw Error("GtmStatsAdapterEventCustomCtaClick is unable to define the event name.");if(!r.eventAction)throw Error("GtmStatsAdapterEventCustomCtaClick is unable to define the event action.");return r.eventLabel||delete r.eventLabel,r},t}();e.GtmStatsAdapterEventCustomCtaClick=o},82854:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.getData=function(){return{event:"Email Alert",eventAction:"Signup:Finish",eventLabel:"Email Lead"}},t}();e.GtmStatsAdapterEventEmailAlert=o},6746:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){if(!this.context.local.http_status_code)throw Error('Stats local context "http_status_code" is not set.');return{event:"Error Pages",eventAction:this.context.local.http_status_code,eventLabel:this.context.global.url}},t}();e.GtmStatsAdapterEventErrorPage=o},76198:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(96096),a=function(){function t(t,e){this.entity=t,this.context=e}return t.prototype.getData=function(){var e={event:this.entity.name,eventAction:"Email",eventLabel:""},o=[];if(!this.context.local.lead)throw Error('Stats local context "lead" is not set.');var a=this.getContextLabel();switch(a&&o.push(a),this.context.local.lead.medium){case"whatsapp":e.eventAction="Whatsapp","live-viewing-popup"===this.context.local.lead.variation&&o.push("Live Viewing Popup");break;case"call_back":e.eventAction="CallBack";break;case"phone":if(e.eventAction="Call",this.context.global.property_page||this.context.global.agent_page||this.context.global.broker_page||this.context.global.my_account)switch(this.context.local.lead.cta){case"link":void 0!==this.context.local.entity_description_expanded?o.push(this.context.local.entity_description_expanded?t.LABEL_DESCRIPTION_EXPANDED:t.LABEL_DESCRIPTION_COLLAPSED):"content-reveal"===this.context.local.lead.variation&&o.push(t.LABEL_CALL_LINK);break;case"button":"content-reveal"===this.context.local.lead.variation?o.push(t.LABEL_CALL_BUTTON):o.push(t.LABEL_CALL)}break;case"sms":e.eventAction="SMS","live-viewing-popup"===this.context.local.lead.variation&&o.push("Live Viewing Popup");break;case"email":(e.eventAction="Email",this.context.local.lead.email.enquiryType&&(e.enquiry=new r.GtmStatsAdapterEnquiryType(this.context.local.lead.email.enquiryType).getData()),"viewing"===this.context.local.lead.variation)?o.push("Book a Viewing"):(this.context.global.property_page||this.context.global.agent_page||this.context.global.broker_page||this.context.global.my_account)&&o.push(e.eventAction)}return e.eventLabel=o.join(" - "),e},t.prototype.getContextLabel=function(){return this.context.global.property_page?t.LABEL_PROPERTY_PAGE:this.context.global.agent_page?t.LABEL_AGENT_PAGE:this.context.global.broker_page?t.LABEL_BROKER_PAGE:this.context.global.map_search_page?t.LABEL_MAP_SEARCH:this.context.global.property_serp?t.LABEL_PROPERTY_SERP:this.context.global.agent_serp?t.LABEL_AGENT_SERP:this.context.global.broker_serp?t.LABEL_BROKER_SERP:this.context.global.agent_home?t.LABEL_AGENT_HOME:this.context.global.broker_home?t.LABEL_BROKER_HOME:this.context.global.user_page||this.context.global.saved_properties?t.LABEL_PROPERTY_SAVED:this.context.global.contacted_properties?t.LABEL_PROPERTY_CONTACTED:this.context.global.my_notes_properties?t.LABEL_PROPERTY_MY_NOTES:""},t.LABEL_DESCRIPTION_EXPANDED="Description Expanded",t.LABEL_DESCRIPTION_COLLAPSED="Description Collapsed",t.LABEL_CALL="Call Now",t.LABEL_CALL_BUTTON="Button",t.LABEL_CALL_LINK="Text",t.LABEL_PROPERTY_PAGE="Property Detail",t.LABEL_PROPERTY_SERP="Property Serp",t.LABEL_PROPERTY_SAVED="Saved Properties",t.LABEL_PROPERTY_CONTACTED="Contacted Properties",t.LABEL_PROPERTY_MY_NOTES="My Notes Properties",t.LABEL_AGENT_PAGE="Agent Detail",t.LABEL_AGENT_SERP="Agent Serp",t.LABEL_AGENT_HOME="Agent Home",t.LABEL_BROKER_PAGE="Broker Detail",t.LABEL_BROKER_SERP="Broker Serp",t.LABEL_MAP_SEARCH="Map Search",t.LABEL_BROKER_HOME="Broker Home",t}();e.GtmStatsAdapterEventLead=a},61126:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(16077),a=function(){function t(t){this.context=t}return t.prototype.getData=function(){return[{event:"Userbox",eventAction:"Finish:Sign up with Email",eventLabel:new r.GtmStatsAdapterList(this.context).getData()}]},t}();e.GtmStatsAdapterEventUserRegister=a},97686:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(16077),a=function(){function t(t){this.context=t,this.mapping={Facebook:"Finish:Sign in with facebook",Google:"Finish:Sign in with google",Email:"Finish:Sign in with email"}}return t.prototype.getData=function(){return{event:"Userbox",eventAction:this.mapping[this.context.local.authentication_provider]||"",eventLabel:new r.GtmStatsAdapterList(this.context).getData()}},t}();e.GtmStatsAdapterEventUserSignIn=a},60803:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(16077),a=function(){function t(t){this.context=t}return t.prototype.getData=function(){return{event:"Userbox",eventAction:"Logged out:User",eventLabel:new r.GtmStatsAdapterList(this.context).getData()}},t}();e.GtmStatsAdapterEventUserSignOut=a},47162:function(t,e,o){var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<o;e++)for(var n=arguments[e],i=0,s=n.length;i<s;i++,a++)r[a]=n[i];return r};Object.defineProperty(e,"__esModule",{value:!0});var a=o(6899),n=function(){function t(t,e){this.eventUser=t,this.context=e}return t.prototype.getData=function(){return r(Array.isArray(this.eventUser)?this.eventUser:[this.eventUser],[new a.GtmStatsAdapterVariables(this.context).getData()])},t}();e.GtmStatsAdapterEventUser=n},85403:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t,this.mapping={en:"English",ar:"Arabic",fr:"French"}}return t.prototype.getData=function(){return this.mapping[this.context.global.language.toLowerCase()]||""},t}();e.GtmStatsAdapterLanguage=o},16077:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){return this.context.local.cta&&("login-popup-from-lead"===this.context.local.cta.authentication||"login-popup-not-now-button"===this.context.local.cta.authentication||"login-popup-close-button"===this.context.local.cta.authentication)?"Post Email Lead":this.context.local.cta&&"login-popup-tooltip"===this.context.local.cta.authentication?"Save Property Pop up":this.context.global.saved_properties?"Saved Properties":this.context.global.my_notes_properties?"My Notes Properties":this.context.local.cta&&this.context.local.cta.notes&&"login-property-note"===this.context.local.cta.notes.name?"Save My Notes":this.context.global.contacted_properties?"Contacted Properties":this.context.local.property_more?"More Available":this.context.local.property_similar?"Property Serp No Result":this.context.local.cta&&this.context.local.cta.event?this.context.local.cta.event.label:this.context.global.property_page?"Property Detail":this.context.global.property_page_with_community_expert?"Property Detail - Community Expert":this.context.global.property_page_offline?"Expired Property":this.context.global.map_search_page?"Map Search":this.context.global.property_serp?"Property Serp":this.context.global.agent_home?"Agent Home":this.context.global.agent_page?"Agent Detail":this.context.global.agent_serp?"Agent Serp":this.context.global.broker_home?"Broker Home":this.context.global.broker_page?"Broker Detail":this.context.global.broker_serp?"Broker Serp":this.context.global.home_page?"Portal Home":this.context.global.user_page?"Saved Properties":this.context.global.error_page?"Not Found":this.context.global.buyvsrent_calculator?"Buy Vs Rent Calculator":this.context.global.home_valuation?"Home Valuation":"Static"},t}();e.GtmStatsAdapterList=o},32537:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===e&&(e=!1),this.listingStatusDisplayed=t,this.isExclusive=e,this.mapping={standard:"Standard",featured:"Featured",premium:"Premium",smart_ad:"SmartAd",cts:"CommunityTopSpot",direct_from_developer_featured:"Direct from developer - featured",direct_from_developer_premium:"Direct from developer - premium"},this.exclusiveText="Exclusive"}return t.prototype.getData=function(){return(this.mapping[this.listingStatusDisplayed]||this.listingStatusDisplayed)+(this.isExclusive?" - "+this.exclusiveText:"")},t}();e.GtmStatsAdapterListingStatus=o},36992:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.entity=t}return t.prototype.getData=function(){return{id:this.entity.id,name:this.entity.name,creative:this.entity.dimension6,position:this.entity.position,list:this.entity.list}},t}();e.GtmStatsAdapterPromotion=o},25460:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(16077),a=o(79968),n=o(5030),i=o(32537),s=function(){function t(t,e,o){this.rawData=t,this.context=e,this.eventName=o}return t.prototype.getData=function(){var t=new r.GtmStatsAdapterList(this.context),e={id:(this.rawData.id||"").toString(),name:new n.GtmStatsAdapterCategory(this.rawData.offeringType).getData(),price:(this.rawData.price||"").toString(),category:this.rawData.housingType||"",variant:this.rawData.verified,position:String(this.rawData.position||""),quantity:1,dimension4:(this.rawData.images||"").toString(),dimension5:(this.rawData.size||"").toString(),dimension6:new i.GtmStatsAdapterListingStatus(this.rawData.listingStatusDisplayed,this.rawData.isExclusive).getData(),dimension7:this.rawData.housingType||"",dimension8:(this.rawData.agentUserId||"").toString(),dimension9:this.rawData.furnished||"",dimension10:this.rawData.rentalPeriodId||"",dimension11:this.rawData.bathrooms||"",dimension12:this.rawData.bedrooms||"",dimension13:(this.rawData.agent&&this.rawData.agent.id||"").toString(),dimension14:(this.rawData.broker&&this.rawData.broker.id||"").toString(),dimension15:(this.rawData.locations&&this.rawData.locations[0]||"").toString(),dimension16:(this.rawData.locations&&this.rawData.locations[1]||"").toString(),dimension17:(this.rawData.locations&&this.rawData.locations[2]||"").toString(),dimension18:(this.rawData.locations&&this.rawData.locations[3]||"").toString(),dimension19:(this.rawData.locations&&this.rawData.locations[4]||"").toString(),dimension20:(this.rawData.qs||"").toString(),dimension21:(this.rawData.id||"").toString(),dimension24:(this.rawData.price||"").toString(),dimension29:(!!this.rawData.has360View).toString(),dimension53:(!!this.rawData.newProjects).toString(),promotion:!1,list:t.getData()};return!0===this.context.global.property_serp&&(this.rawData.isSmartAd||this.rawData.isCtsProperty||this.rawData.isAreaSpecialistProperty)&&(e.promotion=!0),this.context.local.lead&&"email"===this.context.local.lead.medium?e.metric6="6":this.context.global.property_page&&(e.metric1="1"),(this.eventName===a.StatsEmitterEvent.propertySave||this.eventName===a.StatsEmitterEvent.propertyUnsave)&&(e.metric9="1",this.context.local.property_save_cta&&(e.button=this.context.local.property_save_cta)),this.eventName===a.StatsEmitterEvent.propertyImageBrowse&&(e.metric2="1"),e},t}();e.GtmStatsAdapterProperty=s},94505:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.searchTrigger=t,this.mapping={initial:"Initial",update:"Refine",reset:"Reset"}}return t.prototype.getData=function(){if(!this.mapping[this.searchTrigger])throw Error('GtmStatsAdapterSearchAction does not support "'+this.searchTrigger+'" search trigger value.');return this.mapping[this.searchTrigger]},t}();e.GtmStatsAdapterSearchAction=o},6899:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(85403),a=o(16077),n=o(5030),i=function(){function t(t){this.context=t}return t.prototype.getData=function(){return{country:this.getCountry(),language:this.getLanguage(),pageCategory:this.getPageCategory(),pageType:this.getPageType(),userId:this.getUserId(),userStatus:this.getUserStatus()}},t.prototype.getCountry=function(){return this.context.global.country||""},t.prototype.getPageCategory=function(){return this.context.global.error_page?"404 Pages":new n.GtmStatsAdapterCategory(this.context.global.property_category_identifier).getData()},t.prototype.getLanguage=function(){return new r.GtmStatsAdapterLanguage(this.context).getData()},t.prototype.getPageType=function(){return new a.GtmStatsAdapterList(this.context).getData()},t.prototype.getUserId=function(){return this.context.global.authentication.user&&String(this.context.global.authentication.user.id)||""},t.prototype.getUserStatus=function(){return this.context.global.authentication.user?"Logged In":"Not Logged In"},t}();e.GtmStatsAdapterVariables=i},1805:function(t,e,o){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(76382),i=o(25460),s=o(7356),c=o(41999),p=o(56498),l=o(82576),u=o(44488),h=o(73458),g=o(36923),d=o(68874),S=o(90562),m=o(6746),y=o(87257),f=o(33045),v=o(61927),w=o(11294),E=o(79968),b=o(26152),_=o(6899),k=o(97686),x=o(60803),P=o(61126),D=o(47162),A=function(t){function e(e){var o=t.call(this,e)||this;return o.statsTracker=e,o}return a(e,t),e.prototype.onPageView=function(t){var e=new _.GtmStatsAdapterVariables(t).getData();this.statsTracker.pageView(e)},e.prototype.onPropertyPage=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertyPage).getData(),r=new s.GtmStatsAdapterEntityPage(o,e).getData();this.statsTracker.propertyPage(r)},e.prototype.onPropertyImpression=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertyImpression).getData(),r=new h.GtmStatsAdapterEntityImpression(o,e).getData();this.statsTracker.propertyImpression(r)},e.prototype.onPropertyLeadClick=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertyLeadClick).getData(),r=new c.GtmStatsAdapterEntityLeadClick(o,e).getData();this.statsTracker.propertyLeadClick(r)},e.prototype.onPropertyLeadSend=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertyLeadSend).getData(),r=new p.GtmStatsAdapterEntityLeadSend(o,e).getData();this.statsTracker.propertyLeadSend(r)},e.prototype.onPropertyClick=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertyClick).getData(),r=new g.GtmStatsAdapterEntityClick(o,e).getData();this.statsTracker.propertyClick(r)},e.prototype.onPropertySave=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertySave).getData(),r=new v.GtmStatsAdapterEcommerceAddToCart(o,e).getData();this.statsTracker.propertySave(r)},e.prototype.onPropertyUnsave=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertyUnsave).getData(),r=new w.GtmStatsAdapterEcommerceRemoveFromCart(o,e).getData();this.statsTracker.propertyUnsave(r)},e.prototype.onPropertyImageBrowse=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertyImageBrowse).getData(),r=new b.GtmStatsAdapterEcommerceCheckout(o,e).getData();this.statsTracker.propertyImageBrowse(r)},e.prototype.onAgentPage=function(t,e){var o=new l.GtmStatsAdapterAgent(t,e).getData(),r=new s.GtmStatsAdapterEntityPage(o,e).getData();this.statsTracker.agentPage(r)},e.prototype.onAgentSerp=function(t){var e=[new f.GtmStatsAdapterEventAgentSearch(t).getData()];this.statsTracker.agentSerp(e)},e.prototype.onAgentImpression=function(t,e){var o=new l.GtmStatsAdapterAgent(t,e).getData(),r=new h.GtmStatsAdapterEntityImpression(o,e).getData();this.statsTracker.agentImpression(r)},e.prototype.onAgentLeadClick=function(t,e){var o=new l.GtmStatsAdapterAgent(t,e).getData(),r=new c.GtmStatsAdapterEntityLeadClick(o,e).getData();this.statsTracker.agentLeadClick(r)},e.prototype.onAgentLeadSend=function(t,e){var o=new l.GtmStatsAdapterAgent(t,e).getData(),r=new p.GtmStatsAdapterEntityLeadSend(o,e).getData();this.statsTracker.agentLeadSend(r)},e.prototype.onAgentClick=function(t,e){var o=new l.GtmStatsAdapterAgent(t,e).getData(),r=new g.GtmStatsAdapterEntityClick(o,e).getData();this.statsTracker.agentClick(r)},e.prototype.onBrokerPage=function(t,e){var o=new u.GtmStatsAdapterBroker(t,e).getData(),r=new s.GtmStatsAdapterEntityPage(o,e).getData();this.statsTracker.brokerPage(r)},e.prototype.onBrokerSerp=function(t){var e=[new y.GtmStatsAdapterEventBrokerSearch(t).getData()];this.statsTracker.brokerSerp(e)},e.prototype.onBrokerImpression=function(t,e){var o=new u.GtmStatsAdapterBroker(t,e).getData(),r=new h.GtmStatsAdapterEntityImpression(o,e).getData();this.statsTracker.brokerImpression(r)},e.prototype.onBrokerLeadClick=function(t,e){var o=new u.GtmStatsAdapterBroker(t,e).getData(),r=new c.GtmStatsAdapterEntityLeadClick(o,e).getData();this.statsTracker.brokerLeadClick(r)},e.prototype.onBrokerLeadSend=function(t,e){var o=new u.GtmStatsAdapterBroker(t,e).getData(),r=new p.GtmStatsAdapterEntityLeadSend(o,e).getData();this.statsTracker.brokerLeadSend(r)},e.prototype.onBrokerClick=function(t,e){var o=new u.GtmStatsAdapterBroker(t,e).getData(),r=new g.GtmStatsAdapterEntityClick(o,e).getData();this.statsTracker.brokerClick(r)},e.prototype.onUserSignIn=function(t,e){var o=new k.GtmStatsAdapterEventUserSignIn(e).getData(),r=new D.GtmStatsAdapterEventUser(o,e).getData();this.statsTracker.userSignIn(r)},e.prototype.onUserSignOut=function(t,e){var o=new x.GtmStatsAdapterEventUserSignOut(e).getData(),r=new D.GtmStatsAdapterEventUser(o,e).getData();this.statsTracker.userSignOut(r)},e.prototype.onUserRegister=function(t,e){var o=new P.GtmStatsAdapterEventUserRegister(e).getData(),r=new D.GtmStatsAdapterEventUser(o,e).getData();this.statsTracker.userRegister(r)},e.prototype.onCtaClick=function(t){var e;e=t.local.cta.customEvent?new S.GtmStatsAdapterEventCustomCtaClick(t).getData():new d.GtmStatsAdapterEventCtaClick(t).getData(),this.statsTracker.ctaClick(e)},e.prototype.onErrorPage=function(t){var e=[new m.GtmStatsAdapterEventErrorPage(t).getData()];this.statsTracker.errorPage(e)},e.prototype.onMyAccountPage=function(t){var e=new _.GtmStatsAdapterVariables(t).getData();this.statsTracker.pageView(e)},e.prototype.onBuyVsRentCalculatorPage=function(t){var e=new _.GtmStatsAdapterVariables(t).getData();this.statsTracker.buyVsRentCalculatorPage(e)},e.prototype.onPropertyLeadClickWhatsapp=function(t,e){var o=new i.GtmStatsAdapterProperty(t,e,E.StatsEmitterEvent.propertyLeadClickWhatsapp).getData(),r=new c.GtmStatsAdapterEntityLeadClick(o,e).getData();this.statsTracker.propertyLeadClickWhatsapp(r)},e}(n.StatsObserver);e.GtmStatsObserver=A},68088:function(t,e,o){var r=o(79968),a=function(){function t(t,e,o,r){this.gtmWindow=t,this.dataQueue=e,this.statsDebuggerService=o,this.statsGuardService=r}return t.prototype.pageView=function(t){this.collect(t,r.StatsEmitterEvent.pageView)},t.prototype.homePage=function(t){this.collect(t,r.StatsEmitterEvent.homePage)},t.prototype.propertyPage=function(t){this.collect(t,r.StatsEmitterEvent.propertyPage)},t.prototype.propertySerp=function(t){this.collect(t,r.StatsEmitterEvent.propertySerp)},t.prototype.propertyImpression=function(t){this.collectBatch("property",t,r.StatsEmitterEvent.propertyImpression)},t.prototype.propertyLoad=function(t){},t.prototype.propertyLeadClick=function(t){this.collect(t,r.StatsEmitterEvent.propertyLeadClick)},t.prototype.propertyLeadSend=function(t){this.collect(t,r.StatsEmitterEvent.propertyLeadSend)},t.prototype.propertyClick=function(t){this.collect(t,r.StatsEmitterEvent.propertyClick)},t.prototype.propertySave=function(t){this.collect(t,r.StatsEmitterEvent.propertySave)},t.prototype.propertyUnsave=function(t){this.collect(t,r.StatsEmitterEvent.propertyUnsave)},t.prototype.propertyImageBrowse=function(t){this.collect(t,r.StatsEmitterEvent.propertyImageBrowse)},t.prototype.agentHome=function(t){this.collect(t,r.StatsEmitterEvent.agentHome)},t.prototype.agentPage=function(t){this.collect(t,r.StatsEmitterEvent.agentPage)},t.prototype.agentSerp=function(t){this.collect(t,r.StatsEmitterEvent.agentSerp)},t.prototype.agentImpression=function(t){this.collectBatch("agent",t,r.StatsEmitterEvent.agentImpression)},t.prototype.agentLoad=function(t){},t.prototype.agentLeadClick=function(t){this.collect(t,r.StatsEmitterEvent.agentLeadClick)},t.prototype.agentLeadSend=function(t){this.collect(t,r.StatsEmitterEvent.agentLeadSend)},t.prototype.agentClick=function(t){this.collect(t,r.StatsEmitterEvent.agentClick)},t.prototype.brokerHome=function(t){this.collect(t,r.StatsEmitterEvent.brokerHome)},t.prototype.brokerPage=function(t){this.collect(t,r.StatsEmitterEvent.brokerPage)},t.prototype.brokerSerp=function(t){this.collect(t,r.StatsEmitterEvent.brokerSerp)},t.prototype.brokerImpression=function(t){this.collectBatch("broker",t,r.StatsEmitterEvent.brokerImpression)},t.prototype.brokerLoad=function(t){},t.prototype.brokerLeadClick=function(t){this.collect(t,r.StatsEmitterEvent.brokerLeadClick)},t.prototype.brokerLeadSend=function(t){this.collect(t,r.StatsEmitterEvent.brokerLeadSend)},t.prototype.brokerClick=function(t){this.collect(t,r.StatsEmitterEvent.brokerClick)},t.prototype.userPage=function(t){this.collect(t,r.StatsEmitterEvent.userPage)},t.prototype.userSignIn=function(t){this.collect(t,r.StatsEmitterEvent.userSignIn)},t.prototype.userSignOut=function(t){this.collect(t,r.StatsEmitterEvent.userSignOut)},t.prototype.userRegister=function(t){this.collect(t,r.StatsEmitterEvent.userRegister)},t.prototype.managerClick=function(t,e){},t.prototype.ctaClick=function(t){this.collect(t,r.StatsEmitterEvent.ctaClick)},t.prototype.errorPage=function(t){this.collect(t,r.StatsEmitterEvent.errorPage)},t.prototype.myAccountPage=function(t){this.collect(t,r.StatsEmitterEvent.myAccountPage)},t.prototype.buyVsRentCalculatorPage=function(t){this.collect(t,r.StatsEmitterEvent.buyVsRentCalculatorPage)},t.prototype.propertyReadmoreClick=function(t){},t.prototype.propertyLeadClickWhatsapp=function(t){this.collect(t,r.StatsEmitterEvent.propertyLeadClickWhatsapp)},t.prototype.propertyLeadSendWhatsapp=function(t){},t.prototype.collect=function(t,e){if(this.statsDebuggerService.log("GTM",e,t),!1!==this.statsGuardService.isAuthorized()){var o,r=Array.isArray(t)?t:[t];(o=this.gtmWindow.dataLayer).push.apply(o,r)}},t.prototype.collectBatch=function(e,o,r){var a=this;o.forEach(function(o){-1===t.SUPPORTED_BATCH_EVENTS.indexOf(o.event)&&console.error('Event "'+o.event+'" does not support batch tracking');var n=e+"-"+o.event;a.dataQueue.add(n,o),a.dataQueue.flush(n).then(function(t){var e,n=t.length;if(0!==n){if("impressionOnScroll"===o.event){var i=[];e=t[0];for(var s=0;s<n;s++)i=i.concat(t[s].ecommerce.impressions);e.ecommerce.impressions=i}else if("promotionImpression"===o.event){var c=[];e=t[0];for(var s=0;s<n;s++)c=c.concat(t[s].ecommerce.promoView.promotions);e.ecommerce.promoView.promotions=c}a.collect(e,r)}}).catch(function(){return null})})},t.SUPPORTED_BATCH_EVENTS=["impressionOnScroll","promotionImpression"],t}();e.A=a},28139:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.categoryId=t,this.mapping={1:"buy",2:"rent",3:"buy_commercial",4:"rent_commercial"}}return t.prototype.getData=function(){return this.mapping[this.categoryId]||String(this.categoryId)},t}();e.Snowplow2StatsAdapterCategory=o},19413:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.enquiryType=t,this.mapping={to_buy:"buyer",to_rent:"tenant",to_sell:"seller",to_let:"landlord",other:"other"}}return t.prototype.getData=function(){return this.mapping[this.enquiryType]||this.enquiryType},t}();e.Snowplow2StatsAdapterEnquiryType=o},78596:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.furnished=t,this.mapping={yes:"furnished",no:"unfurnished",partly:"part_furnished",1:"furnished",2:"unfurnished",3:"part_furnished"}}return t.prototype.getData=function(){return this.mapping[this.furnished.toLowerCase()]||null},t}();e.Snowplow2StatsAdapterFurnishings=o},24724:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.rawData=t}return t.prototype.getData=function(){return this.rawData.isSmartAdAgent?"featured_agent":"smart_ad"===this.rawData.listingStatus?"smartad":this.rawData.listingStatus||""},t}();e.Snowplow2StatsAdapterListingStatusType=o},38651:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.period=t,this.mapping={yearly:"yearly",monthly:"monthly",weekly:"weekly",daily:"daily",y:"yearly",m:"monthly",w:"weekly",d:"daily"}}return t.prototype.getData=function(){return this.mapping[this.period.toLowerCase()]||null},t}();e.Snowplow2StatsAdapterPricePeriod=o},52981:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.rawData=t,this.mapping={standard:"standard",smart_ad:"smartad",premium:"premium",featured:"featured",cts:"cts",featured_agent:"featured_agent",direct_from_developer_premium:"direct_from_developer_premium",direct_from_developer_featured:"direct_from_developer_featured",similar_properties_near:"similar_properties_near",spotlight:"spotlight"}}return t.prototype.getData=function(){return this.rawData.isSmartAdAgent||this.rawData.isAreaSpecialistProperty?"featured_agent":this.mapping[this.rawData.listingStatusDisplayed]||"standard"},t}();e.Snowplow2StatsAdapterProductType=o},37579:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.room=t}return t.prototype.getData=function(){if("studio"===this.room)return 0;var t=parseInt(this.room,10);return isNaN(t)?0:t},t}();e.Snowplow2StatsAdapterRoom=o},32254:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){var t=this;return{schema:"iglu:ae.propertyfinder/ab_tests_context/jsonschema/1-0-0",data:{ab_tests:Object.keys(this.context.global.abTests).map(function(e){var o=null;return Object.keys(t.context.global.abTests[e].variants).forEach(function(r){t.context.global.abTests[e].variants[r]&&(o=r)}),{test:e,variant:o}})}}},t}();e.Snowplow2StatsAdapterSchemaAbTestsContext=o},66659:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.rawData=t,this.context=e}return t.prototype.getData=function(){var t={schema:"iglu:ae.propertyfinder/agent_context/jsonschema/1-0-1",data:{id:this.rawData.id,name:this.rawData.name,company_id:this.rawData.broker.id,agent_verified:this.rawData.isVerified}};return this.rawData.jobPosition&&(t.data.job_title=this.rawData.jobPosition),this.rawData.rera&&(t.data.license_no=this.rawData.rera),t},t}();e.Snowplow2StatsAdapterSchemaAgentContext=o},84197:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){if(!this.context.global.agent_search)throw Error('Stats context "agent_search" is not set.');var t={schema:"iglu:ae.propertyfinder/agent_search_context/jsonschema/1-0-1",data:{}};return void 0!==this.context.global.agent_search.text&&(t.data.keywords=this.context.global.agent_search.text),void 0!==this.context.global.agent_search.category_id&&(t.data.service_needed=String(this.context.global.agent_search.category_id)),void 0!==this.context.global.agent_search.language_ids&&(t.data.language=this.context.global.agent_search.language_ids.map(function(t){return String(t)})),void 0!==this.context.global.agent_search.nationality_id&&(t.data.nationality=this.context.global.agent_search.nationality_id),void 0!==this.context.global.agent_search.location_id&&(t.data.location=String(this.context.global.agent_search.location_id)),void 0!==this.context.global.agent_search.agent_id&&(t.data.agent_id=this.context.global.agent_search.agent_id),t},t}();e.Snowplow2StatsAdapterSchemaAgentSearchContext=o},49597:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/attribution_context/jsonschema/1-0-0",data:{click_id:this.context.global.authentication.attributionId,attribution_model:"last_click"}}},t}();e.Snowplow2StatsAdapterSchemaAttributionContext=o},59546:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t,this.providerMapping={Facebook:"facebook",Google:"google",Email:"pf"}}return t.prototype.getData=function(){var t=this.context.global.authentication.user;return{schema:"iglu:ae.propertyfinder/auth_context/jsonschema/1-0-0",data:{idp:this.providerMapping[this.context.global.authentication.provider]||"pf",idp_id:String(t.id),pf_id:String(t.id)}}},t}();e.Snowplow2StatsAdapterSchemaAuthContext=o},51790:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.rawData=t,this.context=e}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/broker_context/jsonschema/1-0-0",data:{id:this.rawData.id,name:this.rawData.name}}},t}();e.Snowplow2StatsAdapterSchemaBrokerContext=o},59619:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){if(!this.context.global.broker_search)throw Error('Stats context "broker_search" is not set.');var t={schema:"iglu:ae.propertyfinder/broker_search_context/jsonschema/1-0-1",data:{}};return void 0!==this.context.global.broker_search.text&&(t.data.keywords=this.context.global.broker_search.text),void 0!==this.context.global.broker_search.location_id&&(t.data.locations=[String(this.context.global.broker_search.location_id)]),void 0!==this.context.global.broker_search.broker_id&&(t.data.broker_id=this.context.global.broker_search.broker_id),t},t}();e.Snowplow2StatsAdapterSchemaBrokerSearchContext=o},69876:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/content_click/jsonschema/2-0-0",data:{click_id:this.context.local.authentication&&this.context.local.authentication.attributionId}}},t}();e.Snowplow2StatsAdapterSchemaContentClick=o},1459:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/content_impression/jsonschema/1-0-0",data:{}}},t}();e.Snowplow2StatsAdapterSchemaContentImpression=o},58555:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/content_load/jsonschema/1-0-0",data:{}}},t}();e.Snowplow2StatsAdapterSchemaContentLoad=o},30128:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/content_save/jsonschema/1-0-0",data:{}}},t}();e.Snowplow2StatsAdapterSchemaContentSave=o},49954:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/content_search/jsonschema/1-0-0",data:{}}},t}();e.Snowplow2StatsAdapterSchemaContentSearch=o},35047:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/content_unsave/jsonschema/1-0-0",data:{}}},t}();e.Snowplow2StatsAdapterSchemaContentUnsave=o},87197:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/content_view/jsonschema/1-0-0",data:{}}},t}();e.Snowplow2StatsAdapterSchemaContentView=o},10632:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/layout_context/jsonschema/1-0-1",data:{layout_version:"1",page_type:this.getPageType(),block:this.getBlock()}}},t.prototype.getPageType=function(){return this.context.global.home_page?"portal_home":this.context.global.property_serp?"property_serp":this.context.global.property_page?"property_detail":this.context.global.property_page_offline?"expired_property":this.context.global.agent_page?"agent_detail":this.context.global.agent_serp?"agent_serp":this.context.global.agent_home?"agent_home":this.context.global.broker_page?"broker_detail":this.context.global.broker_serp?"broker_serp":this.context.global.broker_home?"broker_home":this.context.global.contacted_properties||this.context.global.saved_properties?"my_account":this.context.global.buyvsrent_calculator?"buyvsrent_calculator":this.context.global.project_detail?"project_detail":"static"},t.prototype.getBlock=function(){return this.context.local.property_more?"property_more":this.context.local.property_similar?"property_similar":this.context.global.saved_properties?"saved_properties":this.context.global.contacted_properties?"contacted_properties":""},t}();e.Snowplow2StatsAdapterSchemaLayoutContext=o},42282:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){if(!this.context.local.lead)throw Error('Stats context "lead" is not set.');return{schema:"iglu:ae.propertyfinder/lead_click/jsonschema/1-0-0",data:{medium:this.context.local.lead.medium}}},t}();e.Snowplow2StatsAdapterSchemaLeadClick=o},26651:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(19413),a=function(){function t(t){this.context=t}return t.prototype.getData=function(){if(!this.context.local.lead)throw Error('Stats context "lead" is not set.');var t=this.context.local.lead,e={schema:"iglu:ae.propertyfinder/lead_send/jsonschema/1-0-0",data:{medium:t.medium}};if(t.email&&(e.data.name=t.email.name,e.data.email=t.email.email,e.data.phone=t.email.phone,e.data.message=t.email.message,e.data.email_alert_optin=t.email.emailAlert,t.email.enquiryType)){var o=new r.Snowplow2StatsAdapterEnquiryType(t.email.enquiryType);e.data.enquiry_type=o.getData()}return t.call_back&&(e.data.phone=t.call_back.phone),e},t}();e.Snowplow2StatsAdapterSchemaLeadSend=a},92727:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(78596),a=o(38651),n=o(37579),i=o(24724),s=o(32473),c=function(){function t(t,e){this.rawData=t,this.context=e,this.exclusiveText="Exclusive"}return t.prototype.getData=function(){var t={schema:"iglu:ae.propertyfinder/listing_context/jsonschema/1-0-4",data:{web_id:this.rawData.id,title:this.rawData.title,bedrooms:0,bathrooms:0,price:this.rawData.price,location_id:this.rawData.locations[this.rawData.locations.length-1],broker_id:this.rawData.broker.id,agent_id:this.rawData.agent.id,area_sqft:this.rawData.size,offering_type:null===this.rawData.offeringType.toLowerCase().match(/rent$/g)?"buy":"rent",property_type_id:this.rawData.housingTypeId,furnishings:null,market:null===this.rawData.offeringType.toLowerCase().match(/^commercial/g)?"residential":"commercial",reference:this.rawData.referenceNumber,listing_status:this.rawData.listingStatus,quality_score:this.rawData.qs,verified:!0,completion_status:this.rawData.completionStatus}};if(this.rawData.bedrooms){var e=new n.Snowplow2StatsAdapterRoom(this.rawData.bedrooms);t.data.bedrooms=e.getData()}if(this.rawData.bathrooms){var o=new n.Snowplow2StatsAdapterRoom(this.rawData.bathrooms);t.data.bathrooms=o.getData()}if(this.rawData.furnished){var c=new r.Snowplow2StatsAdapterFurnishings(this.rawData.furnished);t.data.furnishings=c.getData()}if(this.rawData.rentalPeriodId){var p=new a.Snowplow2StatsAdapterPricePeriod(this.rawData.rentalPeriodId);t.data.price_period=p.getData()}if(this.rawData.licenseRera&&(t.data.rera_permit_no=this.rawData.licenseRera),this.rawData.listingStatus){var l=this.rawData.isExclusive?" - "+this.exclusiveText:"",u=new i.Snowplow2StatsAdapterListingStatusType(this.rawData);t.data.listing_status=u.getData()+l}if(this.rawData.verified){var h=new s.Snowplow2StatsAdapterVerified(this.rawData.verified);t.data.verified=h.getData()}return t.data.rel="target",(this.context.global.property_page||this.context.global.property_page_offline)&&this.context.global.property_id===this.rawData.id&&(t.data.rel="page"),t},t}();e.Snowplow2StatsAdapterSchemaListingContext=c},17479:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.context=t}return t.prototype.getData=function(){return{schema:"iglu:ae.propertyfinder/readmore_click/jsonschema/1-0-0",data:{}}},t}();e.Snowplow2StatsAdapterSchemaReadmoreClick=o},50647:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(28139),a=o(78596),n=o(38651),i=function(){function t(t){this.context=t}return t.prototype.getData=function(){if(!this.context.global.property_search)throw Error('Stats context "property_search" is not set.');var t={schema:"iglu:ae.propertyfinder/search_context/jsonschema/1-0-1",data:{category:new r.Snowplow2StatsAdapterCategory(this.context.global.property_search.category).getData()}};if(void 0!==this.context.global.property_search.property_type_id&&(t.data.property_type_id=this.context.global.property_search.property_type_id),void 0!==this.context.global.property_search.price_min&&(t.data.min_price=this.context.global.property_search.price_min),void 0!==this.context.global.property_search.price_max&&(t.data.max_price=this.context.global.property_search.price_max),void 0!==this.context.global.property_search.bedroom_min&&(t.data.min_bedrooms=this.context.global.property_search.bedroom_min),void 0!==this.context.global.property_search.bedroom_max&&(t.data.max_bedrooms=this.context.global.property_search.bedroom_max),void 0!==this.context.global.property_search.area_min&&(t.data.min_area=this.context.global.property_search.area_min),void 0!==this.context.global.property_search.area_max&&(t.data.max_area=this.context.global.property_search.area_max),void 0!==this.context.global.property_search.keywords&&(t.data.keywords=this.context.global.property_search.keywords),void 0!==this.context.global.property_search.locations&&(t.data.locations=this.context.global.property_search.locations),void 0!==this.context.global.property_search.amenities&&(t.data.amenities=this.context.global.property_search.amenities),void 0!==this.context.global.property_search.furnished){var e=new a.Snowplow2StatsAdapterFurnishings(String(this.context.global.property_search.furnished));t.data.furnishings=e.getData()}if(void 0!==this.context.global.property_search.rental_period){var o=new n.Snowplow2StatsAdapterPricePeriod(this.context.global.property_search.rental_period);t.data.price_period=o.getData()}return void 0!==this.context.global.property_search.is_developer_property&&(t.data.is_developer_property="1"===this.context.global.property_search.is_developer_property),void 0!==this.context.global.property_search.min_installment_years&&(t.data.min_installment_years=this.context.global.property_search.min_installment_years),void 0!==this.context.global.property_search.max_installment_years&&(t.data.max_installment_years=this.context.global.property_search.max_installment_years),void 0!==this.context.global.property_search.sort&&(t.data.sort=this.context.global.property_search.sort),void 0!==this.context.global.property_search.bathroom_min&&(t.data.min_bathrooms=this.context.global.property_search.bathroom_min),void 0!==this.context.global.property_search.bathroom_max&&(t.data.max_bathrooms=this.context.global.property_search.bathroom_max),void 0!==this.context.global.property_search.completion_status&&(t.data.completion_status=this.context.global.property_search.completion_status),void 0!==this.context.global.property_search.virtual_viewings&&(t.data.virtual_viewings=this.context.global.property_search.virtual_viewings),t},t}();e.Snowplow2StatsAdapterSchemaSearchContext=i},90995:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(52981),a=function(){function t(t,e){this.rawData=t,this.context=e}return t.prototype.getData=function(){if(!this.context.local.pagination)throw Error('Stats context "pagination" is not set.');return{schema:"iglu:ae.propertyfinder/serp_result_context/jsonschema/1-0-2",data:{current_page_pos:this.rawData.positionPage,current_page:this.context.local.pagination.pageCurrent,results_pos:this.rawData.position,format:"list",product:new r.Snowplow2StatsAdapterProductType(this.rawData).getData(),rsp:this.rawData.rsp,rss:this.rawData.rss}}},t}();e.Snowplow2StatsAdapterSchemaSerpResultContext=a},32473:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.verified=t}return t.prototype.getData=function(){if("Verified"===this.verified)return!0;if("Not verified"===this.verified)return!1;throw TypeError("Unknown verified type")},t}();e.Snowplow2StatsAdapterVerified=o},59790:function(t,e,o){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(47727),i=o(90995),s=o(66659),c=o(84197),p=o(50647),l=o(51790),u=o(49597),h=o(59546),g=function(t){function e(e,o){var r=t.call(this,e)||this,a={id:o.broker.id,name:o.broker.name,position:o.position,positionPage:o.positionPage,isSmartAd:0,listingStatus:o.listingStatus};return r.contextSchemaList.push(new s.Snowplow2StatsAdapterSchemaAgentContext(o,e).getData()),r.contextSchemaList.push(new l.Snowplow2StatsAdapterSchemaBrokerContext(a,e).getData()),e.global.agent_search&&r.contextSchemaList.push(new c.Snowplow2StatsAdapterSchemaAgentSearchContext(e).getData()),e.global.property_search&&r.contextSchemaList.push(new p.Snowplow2StatsAdapterSchemaSearchContext(e).getData()),(e.global.agent_serp||e.global.property_serp)&&e.local.pagination&&r.contextSchemaList.push(new i.Snowplow2StatsAdapterSchemaSerpResultContext(o,e).getData()),e.global.authentication.user&&r.contextSchemaList.push(new h.Snowplow2StatsAdapterSchemaAuthContext(e).getData()),e.global.authentication.attributionId&&r.contextSchemaList.push(new u.Snowplow2StatsAdapterSchemaAttributionContext(e).getData()),r}return a(e,t),e}(n.Snowplow2StatsDataTrackable);e.Snowplow2StatsDataAgent=g},24054:function(t,e,o){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(47727),i=o(90995),s=o(51790),c=o(59619),p=o(49597),l=o(59546),u=function(t){function e(e,o){var r=t.call(this,e)||this;return r.contextSchemaList.push(new s.Snowplow2StatsAdapterSchemaBrokerContext(o,e).getData()),e.global.broker_search&&r.contextSchemaList.push(new c.Snowplow2StatsAdapterSchemaBrokerSearchContext(e).getData()),e.global.broker_serp&&e.local.pagination&&r.contextSchemaList.push(new i.Snowplow2StatsAdapterSchemaSerpResultContext(o,e).getData()),e.global.authentication.user&&r.contextSchemaList.push(new l.Snowplow2StatsAdapterSchemaAuthContext(e).getData()),e.global.authentication.attributionId&&r.contextSchemaList.push(new p.Snowplow2StatsAdapterSchemaAttributionContext(e).getData()),r}return a(e,t),e}(n.Snowplow2StatsDataTrackable);e.Snowplow2StatsDataBroker=u},2465:function(t,e,o){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(47727),i=o(32254),s=function(t){function e(e){var o=t.call(this,e)||this;return e.global.abTests&&o.contextSchemaList.push(new i.Snowplow2StatsAdapterSchemaAbTestsContext(e).getData()),o}return a(e,t),e}(n.Snowplow2StatsDataTrackable);e.Snowplow2StatsDataPageView=s},73267:function(t,e,o){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(47727),i=o(92727),s=o(50647),c=o(90995),p=o(66659),l=o(51790),u=o(49597),h=o(59546),g=o(32254),d=function(t){function e(e,o){var r=t.call(this,e)||this,a={id:o.agent.id,name:o.agent.name,broker:o.broker,listingStatus:o.listingStatus,jobPosition:"",position:o.position,positionPage:o.positionPage,rera:"",image:"",isSmartAd:0,isSmartAdAgent:0,isVerified:o.agent.isVerified},n={id:o.broker.id,name:o.broker.name,position:o.position,positionPage:o.positionPage,isSmartAd:o.isSmartAd,listingStatus:o.listingStatus};return r.contextSchemaList.push(new i.Snowplow2StatsAdapterSchemaListingContext(o,e).getData()),r.contextSchemaList.push(new p.Snowplow2StatsAdapterSchemaAgentContext(a,e).getData()),r.contextSchemaList.push(new l.Snowplow2StatsAdapterSchemaBrokerContext(n,e).getData()),e.global.property_search&&r.contextSchemaList.push(new s.Snowplow2StatsAdapterSchemaSearchContext(e).getData()),e.global.property_serp&&e.local.pagination&&r.contextSchemaList.push(new c.Snowplow2StatsAdapterSchemaSerpResultContext(o,e).getData()),e.global.authentication.user&&r.contextSchemaList.push(new h.Snowplow2StatsAdapterSchemaAuthContext(e).getData()),e.global.authentication.attributionId&&r.contextSchemaList.push(new u.Snowplow2StatsAdapterSchemaAttributionContext(e).getData()),e.global.abTests&&r.contextSchemaList.push(new g.Snowplow2StatsAdapterSchemaAbTestsContext(e).getData()),r}return a(e,t),e}(n.Snowplow2StatsDataTrackable);e.Snowplow2StatsDataProperty=d},74260:function(t,e,o){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(47727),i=o(50647),s=o(84197),c=o(59619),p=o(49597),l=o(59546),u=function(t){function e(e){var o=t.call(this,e)||this;return e.global.property_search&&o.contextSchemaList.push(new i.Snowplow2StatsAdapterSchemaSearchContext(e).getData()),e.global.agent_search&&o.contextSchemaList.push(new s.Snowplow2StatsAdapterSchemaAgentSearchContext(e).getData()),e.global.broker_search&&o.contextSchemaList.push(new c.Snowplow2StatsAdapterSchemaBrokerSearchContext(e).getData()),e.global.authentication.user&&o.contextSchemaList.push(new l.Snowplow2StatsAdapterSchemaAuthContext(e).getData()),e.global.authentication.attributionId&&o.contextSchemaList.push(new p.Snowplow2StatsAdapterSchemaAttributionContext(e).getData()),o}return a(e,t),e}(n.Snowplow2StatsDataTrackable);e.Snowplow2StatsDataSearch=u},47727:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(10632),a=function(){function t(t){this.eventSchema=null,this.contextSchemaList=[],this.contextSchemaList.push(new r.Snowplow2StatsAdapterSchemaLayoutContext(t).getData())}return t.prototype.setEventSchema=function(t){this.eventSchema=t},t.prototype.getContextSchemaList=function(){return this.contextSchemaList},t.prototype.getEventSchema=function(){return this.eventSchema},t}();e.Snowplow2StatsDataTrackable=a},14055:function(t,e,o){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(76382),i=o(73267),s=o(1459),c=o(58555),p=o(42282),l=o(26651),u=o(59790),h=o(24054),g=o(87197),d=o(69876),S=o(30128),m=o(35047),y=o(49954),f=o(74260),v=o(47727),w=o(10632),E=o(17479),b=o(2465),_=function(t){function e(e){var o=t.call(this,e)||this;return o.statsTracker=e,o}return a(e,t),e.prototype.onPageView=function(t){var e=new b.Snowplow2StatsDataPageView(t);this.statsTracker.pageView(t.global.authentication.user?String(t.global.authentication.user.id):"",e)},e.prototype.onPropertyPage=function(t,e){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new g.Snowplow2StatsAdapterSchemaContentView().getData()),this.statsTracker.propertyPage(o)},e.prototype.onPropertySerp=function(t){var e=new f.Snowplow2StatsDataSearch(t);e.setEventSchema(new y.Snowplow2StatsAdapterSchemaContentSearch().getData()),this.statsTracker.propertySerp(e)},e.prototype.onPropertyImpression=function(t,e){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new s.Snowplow2StatsAdapterSchemaContentImpression().getData()),this.statsTracker.propertyImpression(o)},e.prototype.onPropertyLoad=function(t,e){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new c.Snowplow2StatsAdapterSchemaContentLoad().getData()),this.statsTracker.propertyLoad(o)},e.prototype.onPropertyLeadClick=function(t,e){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new p.Snowplow2StatsAdapterSchemaLeadClick(e).getData()),this.statsTracker.propertyLeadClick(o)},e.prototype.onPropertyLeadSend=function(t,e){if("call_back"!==e.local.lead.medium){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new l.Snowplow2StatsAdapterSchemaLeadSend(e).getData()),this.statsTracker.propertyLeadSend(o)}},e.prototype.onPropertyClick=function(t,e){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new d.Snowplow2StatsAdapterSchemaContentClick(e).getData()),this.statsTracker.propertyClick(o)},e.prototype.onPropertySave=function(t,e){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new S.Snowplow2StatsAdapterSchemaContentSave(e).getData()),this.statsTracker.propertySave(o)},e.prototype.onPropertyUnsave=function(t,e){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new m.Snowplow2StatsAdapterSchemaContentUnsave(e).getData()),this.statsTracker.propertyUnsave(o)},e.prototype.onAgentPage=function(t,e){var o=new u.Snowplow2StatsDataAgent(e,t);o.setEventSchema(new g.Snowplow2StatsAdapterSchemaContentView().getData()),this.statsTracker.agentPage(o)},e.prototype.onAgentSerp=function(t){var e=new f.Snowplow2StatsDataSearch(t);e.setEventSchema(new y.Snowplow2StatsAdapterSchemaContentSearch().getData()),this.statsTracker.agentSerp(e)},e.prototype.onAgentImpression=function(t,e){var o=new u.Snowplow2StatsDataAgent(e,t);o.setEventSchema(new s.Snowplow2StatsAdapterSchemaContentImpression().getData()),this.statsTracker.agentImpression(o)},e.prototype.onAgentLoad=function(t,e){var o=new u.Snowplow2StatsDataAgent(e,t);o.setEventSchema(new c.Snowplow2StatsAdapterSchemaContentLoad().getData()),this.statsTracker.agentLoad(o)},e.prototype.onAgentLeadClick=function(t,e){var o=new u.Snowplow2StatsDataAgent(e,t);o.setEventSchema(new p.Snowplow2StatsAdapterSchemaLeadClick(e).getData()),this.statsTracker.agentLeadClick(o)},e.prototype.onAgentLeadSend=function(t,e){var o=new u.Snowplow2StatsDataAgent(e,t);o.setEventSchema(new l.Snowplow2StatsAdapterSchemaLeadSend(e).getData()),this.statsTracker.agentLeadSend(o)},e.prototype.onAgentClick=function(t,e){var o=new u.Snowplow2StatsDataAgent(e,t);o.setEventSchema(new d.Snowplow2StatsAdapterSchemaContentClick(e).getData()),this.statsTracker.agentClick(o)},e.prototype.onBrokerPage=function(t,e){var o=new h.Snowplow2StatsDataBroker(e,t);o.setEventSchema(new g.Snowplow2StatsAdapterSchemaContentView().getData()),this.statsTracker.brokerPage(o)},e.prototype.onBrokerSerp=function(t){var e=new f.Snowplow2StatsDataSearch(t);e.setEventSchema(new y.Snowplow2StatsAdapterSchemaContentSearch().getData()),this.statsTracker.brokerSerp(e)},e.prototype.onBrokerImpression=function(t,e){var o=new h.Snowplow2StatsDataBroker(e,t);o.setEventSchema(new s.Snowplow2StatsAdapterSchemaContentImpression().getData()),this.statsTracker.brokerImpression(o)},e.prototype.onBrokerLoad=function(t,e){var o=new h.Snowplow2StatsDataBroker(e,t);o.setEventSchema(new c.Snowplow2StatsAdapterSchemaContentLoad().getData()),this.statsTracker.brokerLoad(o)},e.prototype.onBrokerLeadClick=function(t,e){var o=new h.Snowplow2StatsDataBroker(e,t);o.setEventSchema(new p.Snowplow2StatsAdapterSchemaLeadClick(e).getData()),this.statsTracker.brokerLeadClick(o)},e.prototype.onBrokerLeadSend=function(t,e){var o=new h.Snowplow2StatsDataBroker(e,t);o.setEventSchema(new l.Snowplow2StatsAdapterSchemaLeadSend(e).getData()),this.statsTracker.brokerLeadSend(o)},e.prototype.onBrokerClick=function(t,e){var o=new h.Snowplow2StatsDataBroker(e,t);o.setEventSchema(new d.Snowplow2StatsAdapterSchemaContentClick(e).getData()),this.statsTracker.brokerClick(o)},e.prototype.onUserSignIn=function(t,e){this.statsTracker.userSignIn(String(t.id))},e.prototype.onUserSignOut=function(t,e){this.statsTracker.userSignOut(String(t.id))},e.prototype.onUserRegister=function(t,e){this.statsTracker.userRegister(String(t.id))},e.prototype.onMyAccountPage=function(t){var e=new v.Snowplow2StatsDataTrackable(t);e.setEventSchema(new w.Snowplow2StatsAdapterSchemaLayoutContext(t).getData()),this.statsTracker.myAccountPage(e)},e.prototype.onPropertyReadmoreClick=function(t,e){var o=new v.Snowplow2StatsDataTrackable(e);o.setEventSchema(new E.Snowplow2StatsAdapterSchemaReadmoreClick(e).getData()),this.statsTracker.propertyReadmoreClick(o)},e.prototype.onPropertyLeadSendWhatsapp=function(t,e){var o=new i.Snowplow2StatsDataProperty(e,t);o.setEventSchema(new l.Snowplow2StatsAdapterSchemaLeadSend(e).getData()),this.statsTracker.propertyLeadSendWhatsapp(o)},e}(n.StatsObserver);e.Snowplow2StatsObserver=_},57522:function(t,e,o){var r=o(79968),a=function(){function t(t,e,o){this.snowplow2Window=t,this.statsDebuggerService=e,this.statsGuardService=o}return t.prototype.pageView=function(t,e){var o;this.statsDebuggerService.log("SP2",r.StatsEmitterEvent.pageView,{userId:t}),!1!==this.statsGuardService.isAuthorized()&&(e&&(o=e.getContextSchemaList()),this.snowplow2Window.snowplow("trackPageView",{context:o}),this.snowplow2Window.snowplow("setUserId",t))},t.prototype.homePage=function(t){},t.prototype.propertyPage=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyPage)},t.prototype.propertySerp=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertySerp)},t.prototype.propertyImpression=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyImpression)},t.prototype.propertyLoad=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyLoad)},t.prototype.propertyLeadClick=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyLeadClick),this.snowplow2Window.snowplow("flushBuffer")},t.prototype.propertyLeadSend=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyLeadSend),this.snowplow2Window.snowplow("flushBuffer")},t.prototype.propertyClick=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyClick)},t.prototype.propertySave=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertySave)},t.prototype.propertyUnsave=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyUnsave)},t.prototype.propertyImageBrowse=function(t){},t.prototype.agentHome=function(t){},t.prototype.agentPage=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.agentPage)},t.prototype.agentSerp=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.agentSerp)},t.prototype.agentImpression=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.agentImpression)},t.prototype.agentLoad=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.agentLoad)},t.prototype.agentLeadClick=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.agentLeadClick),this.snowplow2Window.snowplow("flushBuffer")},t.prototype.agentLeadSend=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.agentLeadSend),this.snowplow2Window.snowplow("flushBuffer")},t.prototype.agentClick=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.agentClick)},t.prototype.brokerHome=function(t){},t.prototype.brokerPage=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.brokerPage)},t.prototype.brokerSerp=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.brokerSerp)},t.prototype.brokerImpression=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.brokerImpression)},t.prototype.brokerLoad=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.brokerLoad)},t.prototype.brokerLeadClick=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.brokerLeadClick),this.snowplow2Window.snowplow("flushBuffer")},t.prototype.brokerLeadSend=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.brokerLeadSend),this.snowplow2Window.snowplow("flushBuffer")},t.prototype.brokerClick=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.brokerClick)},t.prototype.userPage=function(t){},t.prototype.userSignIn=function(t){this.statsDebuggerService.log("SP2",r.StatsEmitterEvent.userSignIn,{userId:t}),!1!==this.statsGuardService.isAuthorized()&&this.snowplow2Window.snowplow("setUserId",t)},t.prototype.userSignOut=function(t){this.statsDebuggerService.log("SP2",r.StatsEmitterEvent.userSignOut,{userId:t}),!1!==this.statsGuardService.isAuthorized()&&this.snowplow2Window.snowplow("setUserId",t)},t.prototype.userRegister=function(t){this.statsDebuggerService.log("SP2",r.StatsEmitterEvent.userRegister,{userId:t}),!1!==this.statsGuardService.isAuthorized()&&this.snowplow2Window.snowplow("setUserId",t)},t.prototype.managerClick=function(t,e){this.collectStructEvent(t,e,r.StatsEmitterEvent.managerClick)},t.prototype.ctaClick=function(t){},t.prototype.errorPage=function(t){},t.prototype.myAccountPage=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.myAccountPage)},t.prototype.buyVsRentCalculatorPage=function(){},t.prototype.propertyReadmoreClick=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyReadmoreClick),this.snowplow2Window.snowplow("flushBuffer")},t.prototype.propertyLeadClickWhatsapp=function(t){},t.prototype.propertyLeadSendWhatsapp=function(t){this.collectSelfDescribingEvent(t,r.StatsEmitterEvent.propertyLeadSendWhatsapp),this.snowplow2Window.snowplow("flushBuffer")},t.prototype.collectSelfDescribingEvent=function(t,e){var o=t.getEventSchema(),r=t.getContextSchemaList();this.statsDebuggerService.log("SP2",e,{event:"trackSelfDescribingEvent",eventSchema:o,contextSchemaList:r}),!1!==this.statsGuardService.isAuthorized()&&this.snowplow2Window.snowplow("trackSelfDescribingEvent",{event:o,context:r})},t.prototype.collectStructEvent=function(t,e,o){this.statsDebuggerService.log("SP2",o,{event:"trackStructEvent",category:t,action:e}),!1!==this.statsGuardService.isAuthorized()&&this.snowplow2Window.snowplow("trackStructEvent",{category:t,action:e})},t}();e.j=a},6740:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(77402),a=o(80762),n=o(29526),i=o(1034),s=o(17948);e.StatsDataFactory=function(){return new r.StatsData(a.StatsStorePropertyFactory(),i.StatsStoreAgentFactory(),n.StatsStoreBrokerFactory(),s.StatsStoreUserFactory())}},77402:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,o,r){this.propertyStore=t,this.agentStore=e,this.brokerStore=o,this.userStore=r}return t.prototype.getPropertyStore=function(){return this.propertyStore},t.prototype.getAgentStore=function(){return this.agentStore},t.prototype.getBrokerStore=function(){return this.brokerStore},t.prototype.getUserStore=function(){return this.userStore},t.PROPERTY="property",t.AGENT="agent",t.BROKER="broker",t.USER="user",t}();e.StatsData=o},78009:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(85858);e.StatsDebuggerFactory=function(){return new r.StatsDebugger(console)}},85858:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.applicationLogger=t,this.isActive=!1}return t.prototype.activate=function(t){this.isActive=t},t.prototype.log=function(t,e,o){if(!1!==this.isActive){var r="[stats]["+e+"]";t&&(r+="["+t+"]"),this.applicationLogger.info(r,o)}},t}();e.StatsDebugger=o},79968:function(t,e){var o;Object.defineProperty(e,"__esModule",{value:!0}),(o=e.StatsEmitterEvent||(e.StatsEmitterEvent={})).pageView="page-view",o.homePage="home-page",o.propertyPage="property-page",o.propertySerp="property-serp",o.propertyImpression="property-impression",o.propertyLoad="property-load",o.propertyLeadClick="property-lead-click",o.propertyLeadSend="property-lead-send",o.propertyClick="property-click",o.propertySave="property-save",o.propertyUnsave="property-unsave",o.propertyImageBrowse="property-image-browse",o.agentHome="agent-home",o.agentPage="agent-page",o.agentSerp="agent-serp",o.agentImpression="agent-impression",o.agentLoad="agent-load",o.agentLeadClick="agent-lead-click",o.agentLeadSend="agent-lead-send",o.agentClick="agent-click",o.brokerHome="broker-home",o.brokerPage="broker-page",o.brokerSerp="broker-serp",o.brokerImpression="broker-impression",o.brokerLoad="broker-load",o.brokerLeadClick="broker-lead-click",o.brokerLeadSend="broker-lead-send",o.brokerClick="broker-click",o.userPage="user-page",o.userSignIn="user-signin",o.userSignOut="user-signout",o.userRegister="user-register",o.managerClick="manager-click",o.ctaClick="cta-click",o.errorPage="error-page",o.myAccountPage="my-account",o.buyVsRentCalculatorPage="buyvsrent-calculator",o.propertyReadmoreClick="read-more",o.propertyLeadClickWhatsapp="property-lead-click-whatsapp",o.propertyLeadSendWhatsapp="property-lead-send-whatsapp",o.mortgageFinderWidgetImpression="mortgage-finder-widget-impression"},77037:function(t,e,o){var r=o(77402),a=o(79968),n=function(){function t(t,e,o,r){this.eventEmitter=t,this.statsContextService=e,this.statsEmitterEntityStrategy=o,this.statsDebuggerService=r}return t.prototype.getEventEmitter=function(){return this.eventEmitter},t.prototype.reset=function(){this.statsEmitterEntityStrategy.reset()},t.prototype.pageView=function(){var t=this.statsContextService.getContext();this.statsDebuggerService.log("",a.StatsEmitterEvent.pageView,{context:t}),this.getEventEmitter().emit(a.StatsEmitterEvent.pageView,t)},t.prototype.homePage=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.homePage,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.homePage,e)},t.prototype.propertyPage=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyPage,t,e,!0)},t.prototype.propertySerp=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.propertySerp,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.propertySerp,e)},t.prototype.propertyImpression=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyImpression,t,e,!0)},t.prototype.propertyLoad=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyLoad,t,e,!0)},t.prototype.propertyLeadClick=function(t,e){var o=[r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyLeadClick,t,e.lead.medium].join("-");this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyLeadClick,t,e,!0,o)},t.prototype.propertyLeadSend=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyLeadSend,t,e,!1)},t.prototype.propertyClick=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyClick,t,e,!0)},t.prototype.propertySave=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertySave,t,e,!1)},t.prototype.propertyUnsave=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyUnsave,t,e,!1)},t.prototype.propertyImageBrowse=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyImageBrowse,t,e,!0)},t.prototype.agentHome=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.agentHome,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.agentHome,e)},t.prototype.agentPage=function(t,e){this.emitEntity(r.StatsData.AGENT,a.StatsEmitterEvent.agentPage,t,e,!0)},t.prototype.agentSerp=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.agentSerp,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.agentSerp,e)},t.prototype.agentImpression=function(t,e){this.emitEntity(r.StatsData.AGENT,a.StatsEmitterEvent.agentImpression,t,e,!0)},t.prototype.agentLoad=function(t,e){this.emitEntity(r.StatsData.AGENT,a.StatsEmitterEvent.agentLoad,t,e,!0)},t.prototype.agentLeadClick=function(t,e){var o=[r.StatsData.AGENT,a.StatsEmitterEvent.agentLeadClick,t,e.lead.medium].join("-");this.emitEntity(r.StatsData.AGENT,a.StatsEmitterEvent.agentLeadClick,t,e,!0,o)},t.prototype.agentLeadSend=function(t,e){this.emitEntity(r.StatsData.AGENT,a.StatsEmitterEvent.agentLeadSend,t,e,!1)},t.prototype.agentClick=function(t,e){this.emitEntity(r.StatsData.AGENT,a.StatsEmitterEvent.agentClick,t,e,!0)},t.prototype.brokerHome=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.brokerHome,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.brokerHome,e)},t.prototype.brokerPage=function(t,e){this.emitEntity(r.StatsData.BROKER,a.StatsEmitterEvent.brokerPage,t,e,!0)},t.prototype.brokerSerp=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.brokerSerp,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.brokerSerp,e)},t.prototype.brokerImpression=function(t,e){this.emitEntity(r.StatsData.BROKER,a.StatsEmitterEvent.brokerImpression,t,e,!0)},t.prototype.brokerLoad=function(t,e){this.emitEntity(r.StatsData.BROKER,a.StatsEmitterEvent.brokerLoad,t,e,!0)},t.prototype.brokerLeadClick=function(t,e){var o=[r.StatsData.BROKER,a.StatsEmitterEvent.brokerLeadClick,t,e.lead.medium].join("-");this.emitEntity(r.StatsData.BROKER,a.StatsEmitterEvent.brokerLeadClick,t,e,!0,o)},t.prototype.brokerLeadSend=function(t,e){this.emitEntity(r.StatsData.BROKER,a.StatsEmitterEvent.brokerLeadSend,t,e,!1)},t.prototype.brokerClick=function(t,e){this.emitEntity(r.StatsData.BROKER,a.StatsEmitterEvent.brokerClick,t,e,!0)},t.prototype.userPage=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.userPage,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.userPage,e)},t.prototype.userSignIn=function(t,e){this.emitEntity(r.StatsData.USER,a.StatsEmitterEvent.userSignIn,t,e,!1)},t.prototype.userSignOut=function(t,e){this.emitEntity(r.StatsData.USER,a.StatsEmitterEvent.userSignOut,t,e,!1)},t.prototype.userRegister=function(t,e){this.emitEntity(r.StatsData.USER,a.StatsEmitterEvent.userRegister,t,e,!1)},t.prototype.managerClick=function(t,e){this.statsDebuggerService.log("",a.StatsEmitterEvent.managerClick,{category:t,action:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.managerClick,t,e)},t.prototype.ctaClick=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.ctaClick,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.ctaClick,e)},t.prototype.errorPage=function(t){var e=this.statsContextService.getContext(t);this.statsDebuggerService.log("",a.StatsEmitterEvent.errorPage,{context:e}),this.getEventEmitter().emit(a.StatsEmitterEvent.errorPage,e)},t.prototype.myAccountPage=function(){var t=this.statsContextService.getContext();this.statsDebuggerService.log("",a.StatsEmitterEvent.myAccountPage,{context:t}),this.getEventEmitter().emit(a.StatsEmitterEvent.myAccountPage,t)},t.prototype.buyVsRentCalculatorPage=function(){var t=this.statsContextService.getContext();this.statsDebuggerService.log("",a.StatsEmitterEvent.buyVsRentCalculatorPage,{context:t}),this.getEventEmitter().emit(a.StatsEmitterEvent.buyVsRentCalculatorPage,t)},t.prototype.propertyReadmoreClick=function(t){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyReadmoreClick,t,{},!0)},t.prototype.propertyLeadClickWhatsapp=function(t,e){var o=[r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyLeadClickWhatsapp,t,e.lead.medium].join("-");this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyLeadClickWhatsapp,t,e,!0,o)},t.prototype.propertyLeadSendWhatsapp=function(t,e){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.propertyLeadSendWhatsapp,t,e,!1)},t.prototype.mortgageFinderWidgetImpression=function(t){this.emitEntity(r.StatsData.PROPERTY,a.StatsEmitterEvent.mortgageFinderWidgetImpression,t,void 0,!0)},t.prototype.emitEntity=function(t,e,o,r,a,n){var i=this;this.statsEmitterEntityStrategy.canEmit(t,e,o,a,n).then(function(t){var o=i.statsContextService.getContext(r);i.statsDebuggerService.log("",e,{entity:t,context:o}),i.getEventEmitter().emit(e,t,o)}).catch(function(t){t instanceof Error&&console.error(t)})},t}();e.U=n},47130:function(t,e,o){var r=o(279),a=o(43420);e.h=function(){return new a.StatsEmitterEntityStrategy(r.StatsDataService())}},43420:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(77402),a=function(){function t(t){this.statsDataService=t,this.emitted=[]}return t.prototype.reset=function(){this.emitted=[]},t.prototype.canEmit=function(t,e,o,r,a){var n=this;return new Promise(function(i,s){if(a||(a=n.getEventHash(t,e,o)),!0===r&&n.isEmitted(a)){s();return}n.setEmitted(a),n.getStore(t).load(o).then(i).catch(s)})},t.prototype.getEventHash=function(t,e,o){return[t,e,String(o)].join("-")},t.prototype.isEmitted=function(t){return -1!==this.emitted.indexOf(t)},t.prototype.setEmitted=function(t){this.emitted.push(t)},t.prototype.getStore=function(t){if(t===r.StatsData.PROPERTY)return this.statsDataService.getPropertyStore();if(t===r.StatsData.AGENT)return this.statsDataService.getAgentStore();if(t===r.StatsData.BROKER)return this.statsDataService.getBrokerStore();if(t===r.StatsData.USER)return this.statsDataService.getUserStore();throw Error('Stats store "'+t+'" is not supported by StatsEmitter')},t}();e.StatsEmitterEntityStrategy=a},76382:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(79968),a=function(){function t(t){this.statsTracker=t}return t.prototype.attachListeners=function(t){var e=t.getEventEmitter();e.addListener(r.StatsEmitterEvent.pageView,this.onPageView.bind(this)),e.addListener(r.StatsEmitterEvent.homePage,this.onHomePage.bind(this)),e.addListener(r.StatsEmitterEvent.propertyPage,this.onPropertyPage.bind(this)),e.addListener(r.StatsEmitterEvent.propertySerp,this.onPropertySerp.bind(this)),e.addListener(r.StatsEmitterEvent.propertyImpression,this.onPropertyImpression.bind(this)),e.addListener(r.StatsEmitterEvent.propertyLoad,this.onPropertyLoad.bind(this)),e.addListener(r.StatsEmitterEvent.propertyLeadClick,this.onPropertyLeadClick.bind(this)),e.addListener(r.StatsEmitterEvent.propertyLeadSend,this.onPropertyLeadSend.bind(this)),e.addListener(r.StatsEmitterEvent.propertyClick,this.onPropertyClick.bind(this)),e.addListener(r.StatsEmitterEvent.propertySave,this.onPropertySave.bind(this)),e.addListener(r.StatsEmitterEvent.propertyUnsave,this.onPropertyUnsave.bind(this)),e.addListener(r.StatsEmitterEvent.propertyImageBrowse,this.onPropertyImageBrowse.bind(this)),e.addListener(r.StatsEmitterEvent.agentHome,this.onAgentHome.bind(this)),e.addListener(r.StatsEmitterEvent.agentPage,this.onAgentPage.bind(this)),e.addListener(r.StatsEmitterEvent.agentSerp,this.onAgentSerp.bind(this)),e.addListener(r.StatsEmitterEvent.agentImpression,this.onAgentImpression.bind(this)),e.addListener(r.StatsEmitterEvent.agentLoad,this.onAgentLoad.bind(this)),e.addListener(r.StatsEmitterEvent.agentLeadClick,this.onAgentLeadClick.bind(this)),e.addListener(r.StatsEmitterEvent.agentLeadSend,this.onAgentLeadSend.bind(this)),e.addListener(r.StatsEmitterEvent.agentClick,this.onAgentClick.bind(this)),e.addListener(r.StatsEmitterEvent.brokerHome,this.onBrokerHome.bind(this)),e.addListener(r.StatsEmitterEvent.brokerPage,this.onBrokerPage.bind(this)),e.addListener(r.StatsEmitterEvent.brokerSerp,this.onBrokerSerp.bind(this)),e.addListener(r.StatsEmitterEvent.brokerImpression,this.onBrokerImpression.bind(this)),e.addListener(r.StatsEmitterEvent.brokerLoad,this.onBrokerLoad.bind(this)),e.addListener(r.StatsEmitterEvent.brokerLeadClick,this.onBrokerLeadClick.bind(this)),e.addListener(r.StatsEmitterEvent.brokerLeadSend,this.onBrokerLeadSend.bind(this)),e.addListener(r.StatsEmitterEvent.brokerClick,this.onBrokerClick.bind(this)),e.addListener(r.StatsEmitterEvent.userPage,this.onUserPage.bind(this)),e.addListener(r.StatsEmitterEvent.userSignIn,this.onUserSignIn.bind(this)),e.addListener(r.StatsEmitterEvent.userSignOut,this.onUserSignOut.bind(this)),e.addListener(r.StatsEmitterEvent.userRegister,this.onUserRegister.bind(this)),e.addListener(r.StatsEmitterEvent.managerClick,this.onManagerClick.bind(this)),e.addListener(r.StatsEmitterEvent.ctaClick,this.onCtaClick.bind(this)),e.addListener(r.StatsEmitterEvent.errorPage,this.onErrorPage.bind(this)),e.addListener(r.StatsEmitterEvent.myAccountPage,this.onMyAccountPage.bind(this)),e.addListener(r.StatsEmitterEvent.buyVsRentCalculatorPage,this.onBuyVsRentCalculatorPage.bind(this)),e.addListener(r.StatsEmitterEvent.propertyReadmoreClick,this.onPropertyReadmoreClick.bind(this)),e.addListener(r.StatsEmitterEvent.propertyLeadSendWhatsapp,this.onPropertyLeadSendWhatsapp.bind(this)),e.addListener(r.StatsEmitterEvent.propertyLeadClickWhatsapp,this.onPropertyLeadClickWhatsapp.bind(this))},t.prototype.onPageView=function(t){this.statsTracker.pageView(t)},t.prototype.onHomePage=function(t){this.statsTracker.homePage(t)},t.prototype.onPropertyPage=function(t,e){this.statsTracker.propertyPage(t)},t.prototype.onPropertySerp=function(t){this.statsTracker.propertySerp(t)},t.prototype.onPropertyImpression=function(t,e){this.statsTracker.propertyImpression(t)},t.prototype.onPropertyLoad=function(t,e){this.statsTracker.propertyLoad(t)},t.prototype.onPropertyLeadClick=function(t,e){this.statsTracker.propertyLeadClick(t)},t.prototype.onPropertyLeadSend=function(t,e){this.statsTracker.propertyLeadSend(t)},t.prototype.onPropertyClick=function(t,e){this.statsTracker.propertyClick(t)},t.prototype.onPropertySave=function(t,e){this.statsTracker.propertySave(t)},t.prototype.onPropertyUnsave=function(t,e){this.statsTracker.propertyUnsave(t)},t.prototype.onPropertyImageBrowse=function(t,e){this.statsTracker.propertyImageBrowse(t)},t.prototype.onAgentHome=function(t){this.statsTracker.agentHome(t)},t.prototype.onAgentPage=function(t,e){this.statsTracker.agentPage(t)},t.prototype.onAgentSerp=function(t){this.statsTracker.agentSerp(t)},t.prototype.onAgentImpression=function(t,e){this.statsTracker.agentImpression(t)},t.prototype.onAgentLoad=function(t,e){this.statsTracker.agentLoad(t)},t.prototype.onAgentLeadClick=function(t,e){this.statsTracker.agentLeadClick(t)},t.prototype.onAgentLeadSend=function(t,e){this.statsTracker.agentLeadSend(t)},t.prototype.onAgentClick=function(t,e){this.statsTracker.agentClick(t)},t.prototype.onBrokerHome=function(t){this.statsTracker.brokerHome(t)},t.prototype.onBrokerPage=function(t,e){this.statsTracker.brokerPage(t)},t.prototype.onBrokerSerp=function(t){this.statsTracker.brokerSerp(t)},t.prototype.onBrokerImpression=function(t,e){this.statsTracker.brokerImpression(t)},t.prototype.onBrokerLoad=function(t,e){this.statsTracker.brokerLoad(t)},t.prototype.onBrokerLeadClick=function(t,e){this.statsTracker.brokerLeadClick(t)},t.prototype.onBrokerLeadSend=function(t,e){this.statsTracker.brokerLeadSend(t)},t.prototype.onBrokerClick=function(t,e){this.statsTracker.brokerClick(t)},t.prototype.onUserPage=function(t){this.statsTracker.userPage(t)},t.prototype.onUserSignIn=function(t,e){this.statsTracker.userSignIn(t)},t.prototype.onUserSignOut=function(t,e){this.statsTracker.userSignOut(t)},t.prototype.onUserRegister=function(t,e){this.statsTracker.userRegister(t)},t.prototype.onManagerClick=function(t,e){this.statsTracker.managerClick(t,e)},t.prototype.onCtaClick=function(t){this.statsTracker.ctaClick(t)},t.prototype.onErrorPage=function(t){this.statsTracker.errorPage(t)},t.prototype.onMyAccountPage=function(t){this.statsTracker.myAccountPage(t)},t.prototype.onBuyVsRentCalculatorPage=function(t){this.statsTracker.buyVsRentCalculatorPage(t)},t.prototype.onPropertyReadmoreClick=function(t,e){this.statsTracker.propertyReadmoreClick(e)},t.prototype.onPropertyLeadClickWhatsapp=function(t,e){this.statsTracker.propertyLeadClickWhatsapp(t)},t.prototype.onPropertyLeadSendWhatsapp=function(t,e){this.statsTracker.propertyLeadSendWhatsapp(t)},t}();e.StatsObserver=a},1034:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(85449);e.StatsStoreAgentFactory=function(){return new r.StatsStoreAgent}},85449:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.entity={}}return t.prototype.load=function(t){var e=this;return new Promise(function(o,r){e.entity[t]?o(e.entity[t]):r(Error('Stats entity agent "'+t+'" not found.'))})},t.prototype.add=function(t){if(!t.id)throw Error("Unable to add agent stats entity because it has no ID!");this.entity[t.id]={id:t.id,name:t.name,broker:{id:t.broker.id,name:t.broker.name},listingStatus:t.listingStatus,jobPosition:t.jobPosition,position:t.position||0,positionPage:t.positionPage||0,rera:t.rera,image:t.image,isSmartAd:t.isSmartAd||0,isSmartAdAgent:t.isSmartAdAgent||0,productPlace:t.productPlace||"",isVerified:t.isVerified}},t}();e.StatsStoreAgent=o},29526:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(86330);e.StatsStoreBrokerFactory=function(){return new r.StatsStoreBroker}},86330:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.entity={}}return t.prototype.load=function(t){var e=this;return new Promise(function(o,r){e.entity[t]?o(e.entity[t]):r(Error('Stats entity broker "'+t+'" not found.'))})},t.prototype.add=function(t){if(!t.id)throw Error("Unable to add broker stats entity because it has no ID!");this.entity[t.id]={id:t.id,name:t.name,position:t.position||0,positionPage:t.positionPage||0,isSmartAd:t.isSmartAd||0,listingStatus:t.listingStatus}},t}();e.StatsStoreBroker=o},80762:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(87865);e.StatsStorePropertyFactory=function(){return new r.StatsStoreProperty}},87865:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.entity={}}return t.prototype.load=function(t){var e=this;return new Promise(function(o,r){e.entity[t]?o(e.entity[t]):r(Error('Stats entity property "'+t+'" not found.'))})},t.prototype.add=function(t){if(!t.id)throw Error("Unable to add property stats entity because it has no ID!");this.entity[t.id]={id:t.id,referenceNumber:t.referenceNumber,offeringType:t.offeringType,housingTypeId:t.housingTypeId,housingType:t.housingType,listingStatus:t.listingStatus,listingStatusDisplayed:t.listingStatusDisplayed,rentalPeriod:t.rentalPeriod,rentalPeriodId:t.rentalPeriodId,size:t.size,bedrooms:t.bedrooms,bathrooms:t.bathrooms,agentUserId:t.agentUserId,verified:t.verified,qs:t.qs,furnished:t.furnished,images:t.images,locations:t.locations,agent:{id:t.agent.id,name:t.agent.name,isVerified:t.agent.isVerified},broker:{id:t.broker.id,name:t.broker.name},rsp:t.rsp,rss:t.rss,getPriceOnApp:t.getPriceOnApp,price:t.price,priceTxt:t.priceTxt,currency:t.currency,title:t.title,subtitle:t.subtitle,url:t.url,mortgageRent:t.mortgageRent,moveSouq:t.moveSouq,image:t.image,position:t.position||0,positionPage:t.positionPage||0,isSmartAd:t.isSmartAd||0,isCtsProperty:t.isCtsProperty||0,isAreaSpecialistProperty:t.isAreaSpecialistProperty||0,licenseRera:t.licenseRera||"",completionStatus:t.completionStatus||null,isExclusive:t.isExclusive||!1,has360View:t.has360View||!1,newProjects:t.newProjects||!1}},t}();e.StatsStoreProperty=o},17948:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(96309);e.StatsStoreUserFactory=function(){return new r.StatsStoreUser}},96309:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.entity={}}return t.prototype.load=function(t){var e=this;return new Promise(function(o,r){e.entity[t]?o(e.entity[t]):r(Error('Stats entity user "'+t+'" not found.'))})},t.prototype.add=function(t){if(!t.id)throw Error("Unable to add user stats entity because it has no ID!");this.entity[t.id]={id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email}},t}();e.StatsStoreUser=o},279:function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var r=o(6740).StatsDataFactory();e.StatsDataService=function(){return r}},3835:function(t,e,o){var r=o(78009).StatsDebuggerFactory();e.o=function(){return r}}}]);