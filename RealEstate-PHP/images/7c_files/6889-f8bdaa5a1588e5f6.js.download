(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6889],{26287:function(e,t,r){"use strict";r.d(t,{d:function(){return f}});var n=r(8100),o=r(95447),a=r(73114),l=r(9384),i=r(67294),s=r(39609),c=r(79040);let d=()=>{let[e,t]=(0,i.useState)(c.V.getToken());return(0,i.useEffect)(()=>s.e.subscribe(e=>{e?t(c.V.getToken()):t(null)}),[]),e};var u=r(33321),p=r(32240);let f=e=>t=>{let r=e=>t.handledByPfWebApp?origin:"".concat(a.g?"https://"+(0,o.Z)((0,l._)()).replace("www.","staging."):origin,"/").concat(e),i=e.requireAuth?(0,p.L)({getOrigin:e=>r(e),jwtTokenService:e.jwtTokenService,requireAuth:!0})(t):(0,p.L)({getOrigin:e=>r(e),requireAuth:!1})(t);return r=>{let o=u.O.getLocale(),a=d(),l=!r.swrDoNotFetch;l&&e.requireAuth&&!a&&(l=!1);let s="".concat(o,"-").concat(t.url,"-").concat(t.method).concat(r.query?"-"+JSON.stringify(r.query):"").concat(r.swrKeyPostfix?"-"+r.swrKeyPostfix:""),c=(0,n.ZP)(l?s:null,()=>i({...r,locale:o}),{revalidateOnFocus:!1,revalidateOnReconnect:!1});return c.isValidating||!c.data?{ok:null}:c.data}}},46677:function(e,t,r){"use strict";r.d(t,{$:function(){return a}});var n=r(79040),o=r(26287);let a=(0,o.d)({requireAuth:!0,jwtTokenService:n.V})},24391:function(e,t,r){"use strict";r.d(t,{o:function(){return u}});var n=r(85893),o=r(66272),a=r(31845),l=r(4519),i=r(84543);r(67294);var s=r(99706),c=r(97091),d=r.n(c);let u=e=>{let{as:t="link",isHomeIconVisible:r=!0,links:c}=e,u=(0,s.W)(l.IconSpriteChevronRight,l.IconSpriteChevronLeft);return 0===c.length?null:(0,n.jsx)("ul",{className:d().list,children:c.map((e,s)=>(0,n.jsxs)("li",{className:d().item,children:["button"===t?(0,n.jsx)(o.Button,{onClick:e.onClick,type:"button","data-testid":"breadcrumb-button-".concat(s),className:(0,a.domClassMerge)(d().link,{[d()["link--disabled"]]:s===c.length-1}),icon:0===s&&r?{component:l.IconHouseFilled,position:"prefix",props:{className:d().icon}}:void 0,children:0===s&&r?(0,n.jsx)(l.IconHouseFilled,{className:d().icon}):e.title}):(0,n.jsx)(i.Link,{theme:"link",href:e.path,className:(0,a.domClassMerge)(d().link,{[d()["link--disabled"]]:s===c.length-1}),title:e.description,children:0===s&&r?(0,n.jsx)(l.IconHouseFilled,{className:d().icon}):e.title}),s!==c.length-1?(0,n.jsx)(u,{className:(0,a.domClassMerge)(d().icon,d()["icon--chevron"])}):null]},e.title))})}},84485:function(e,t,r){"use strict";r.d(t,{W:function(){return j}});var n=r(85893),o=r(31845),a=r(19075),l=r(35605),i=r(33321);let s=(0,a.d)({method:"POST",url:"contacted-property",handledByPfWebApp:!0,alterHeaders:e=>{e["content-type"]="application/vnd.api+json"}}),c=async e=>{let{propertyId:t,contactType:r,contactDate:n}=e,o=i.O.getLocale(),a={property_id:t,contact_type:r||l.g.CALL,contact_date:n};return s({locale:o,postData:{data:{type:"contacted_property",attributes:a}}})};var d=r(46677);let u=()=>(0,d.$)({method:"GET",url:"contacted-property",handledByPfWebApp:!0})({});var p=r(67294),f=r(9464),y=r(19865),h=r(37517);let g=e=>{let{localStorage:t}=h.WindowService,r=t.getItem(e)||[];return r.map(e=>(0,o.objectReduce)(e,(e,t,r)=>({...e,[(0,y.B)(t.toString())]:r}),{}))};var _=r(71894);let v=e=>e.split("").map((e,t)=>e.toUpperCase()===e?"".concat(0!==t?"_":"").concat(e.toLowerCase()):e).join(""),k=(e,t)=>{let{localStorage:r}=h.WindowService;r.setItem(e,t.map(e=>(0,o.objectReduce)(e,(e,t,r)=>({...e,[v(t.toString())]:r}),{})))},m=(e,t)=>r=>{let n=g(e),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>JSON.stringify(e),r={};return e.filter(e=>{let n=t(e);return!r[n]&&(r[n]=!0,!0)})}(r.concat(n),e=>e.propertyId),a=n.filter(e=>{let{propertyId:t}=e;return!r.find(e=>e.propertyId===t)});return(0,_.Q)(r,n,(e,t)=>e.propertyId===t.propertyId?0:-1)||(k(e,o),a.forEach(t)),o},b=(e,t,r,n,a)=>{let{user:l}=(0,p.useContext)(f.S),i=(0,o.usePrevious)(l),s=m(e,n),c=t.ok?t.data:[],[d,u]=(0,p.useState)(g(e));return(0,p.useEffect)(()=>{if(l!==i&&l&&t.ok){let e=s(c.map(r));u(e)}},[l,t.ok,c]),(0,p.useEffect)(()=>{l===i||l||u([])},[l,i]),[d,function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=g(e).filter(e=>e.propertyId!==t.propertyId).concat(t);k(e,o),l&&n(t),r&&u(o)},t=>{let r=g(e).filter(e=>e.propertyId!==t.propertyId);k(e,r),l&&a&&a(t),u(r)}]};var C=r(18190),S=r(21902);let j=e=>{let{children:t}=e,r=u(),[a,l]=b(S.k,r,e=>{let{propertyId:t,contactType:r,contactDate:n}=e;return{propertyId:t,contactType:r,contactDate:n}},c);return(0,n.jsx)(C.$.Provider,{value:{data:a,add:(e,t,r)=>{let n={propertyId:e,contactType:t,contactDate:(0,o.dateToRfc)(new Date)};return l(n,r),n}},children:t})}},70885:function(e,t,r){"use strict";r.d(t,{C:function(){return g}});var n=r(85893),o=r(31845),a=r(67294),l=r(19075),i=r(33321);let s=(0,l.d)({method:"POST",url:"saved-property",handledByPfWebApp:!0,alterHeaders:e=>{e["content-type"]="application/vnd.api+json"}}),c=async e=>{let{propertyId:t,saveDate:r}=e,n=i.O.getLocale();return s({locale:n,postData:{data:{type:"saved_property",attributes:{property_id:t,save_date:r}}}})};var d=r(46677);let u=e=>(0,d.$)({method:"GET",url:"saved-property",handledByPfWebApp:!0})({swrKeyPostfix:e.toString()}),p=e=>(0,l.d)({method:"DELETE",url:"saved-property/".concat(e),handledByPfWebApp:!0}),f=e=>{let{propertyId:t}=e,r=i.O.getLocale();return p(t.toString())({locale:r})};var y=r(9464),h=r(47148);let g=e=>{let{children:t}=e,{user:r}=(0,a.useContext)(y.S),[l,i]=(0,a.useState)(0),s=u(l),[d,p]=(0,a.useState)([]);return(0,a.useEffect)(()=>{s.ok&&p(s.data)},[s.ok]),(0,a.useEffect)(()=>{r||p([])},[r]),(0,n.jsx)(h.H.Provider,{value:{data:d,save:e=>{let t={propertyId:parseInt(e,10),saveDate:(0,o.dateToRfc)(new Date)};c(t).then(()=>i(e=>e+1)),p(e=>[...e,t])},unSave:e=>{let t=parseInt(e,10);f({propertyId:t}).then(()=>i(e=>e+1)),p(e=>e.filter(e=>e.propertyId!==t))}},children:t})}},83014:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});let n=10},5933:function(e,t,r){"use strict";r.d(t,{D:function(){return n}});let n=e=>{let{currentPage:t,amountOfPagesShown:r,total:n,limit:o,mapper:a}=e,l=[],i=Math.floor(r/2),s=Math.ceil(n/o),c=s-1;for(let e=1;e<=s;e++)l.push(a(e));if(t<=i)l=l.slice(0,r);else{let e=t+i-1,n=t-i-1;e>c&&(n-=e-c),r%2==0&&(n+=1),n=n<0?0:n,l=l.slice(n,e+1)}return l}},60992:function(e,t,r){"use strict";r.d(t,{O:function(){return d}});var n=r(85893),o=r(92926),a=r(31845),l=r(67294),i=r(18903),s=r(9936),c=r.n(s);let d=e=>{let{containerClassName:t,dropdownTriggerClassName:r,selectedChoice:s,choices:d,onChange:u,onClick:p,dropdownSize:f="small",showLabel:y=!0}=e,{t:h,isRTL:g}=(0,i.$)(),_=(0,l.useCallback)(()=>(0,n.jsx)(o.DropdownSelect,{triggerClassName:(0,a.domClassMerge)(c().dropdown__trigger,r),mapToLabel:e=>e.label,mapToValue:e=>e.value,options:d,value:d.find(e=>e.value===s),rtl:g,onOpen:p,onChange:e=>u(e.value),horizontalPosition:"right",verticalPosition:"bottom",size:f,triggerHtmlAttributes:{"data-testid":"filters-sort"}}),[r,s,f,d,p,u]);return y?(0,n.jsxs)("div",{className:(0,a.domClassMerge)(c().container,t),children:[(0,n.jsxs)("label",{className:c().label,children:[h("sort-by"),":"]}),(0,n.jsx)(_,{})]}):(0,n.jsx)(_,{})}},9384:function(e,t,r){"use strict";r.d(t,{_:function(){return y}});var n=r(71845),o=r(63826),a=r(25154);let l={areaUnit:n.q.SQM,language:{current:a.z.EN,alternative:a.z.AR}},i={language:{current:a.z.AR,alternative:a.z.EN}},s={...l,areaUnit:n.q.SQFT,countryCode:"ae",currencyCode:o.B.AED},c={...l,countryCode:"bh",currencyCode:o.B.BHD},d={...l,countryCode:"qa",currencyCode:o.B.QAR},u={...l,...i,countryCode:"eg",currencyCode:o.B.EGP},p={...l,...i,countryCode:"sa",currencyCode:o.B.SAR},f=new Map([["ae",s],["bh",c],["eg",u],["qa",d],["sa",p]]);function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ae";return f.get("".concat(e))||s}},97091:function(e){e.exports={list:"styles_desktop_list__kQ6To",item:"styles_desktop_item__oIPqe",link:"styles_desktop_link__jZ4ss","link--disabled":"styles_desktop_link--disabled__kHf9i",icon:"styles_desktop_icon__pCHCD","icon--chevron":"styles_desktop_icon--chevron__gAuPz"}},9936:function(e){e.exports={container:"styles_desktop_container__kc3hI",label:"styles_desktop_label__DjbVP",dropdown__trigger:"styles_desktop_dropdown__trigger__OdbBT"}}}]);