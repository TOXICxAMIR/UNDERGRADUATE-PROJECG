(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3625],{65293:function(e,t,r){"use strict";r.d(t,{d:function(){return a}});var n=r(26287);let a=(0,n.d)({requireAuth:!1})},18885:function(e,t,r){"use strict";r.d(t,{R:function(){return o}});var n=r(86114);let a={yes:"propertyAvailable",no:"propertyUnavailble","agent-modal/not-called":"noCall","agent-modal/agent-not-answered":"noAnswer"},o={onAnswerClicked:(e,t)=>{var r;let o=e.offeringType,i=null===(r=e.agent)||void 0===r?void 0:r.id,l=e.broker,s=[o||""];i&&s.push(i),(null==l?void 0:l.id)&&s.push(l.id),n.q.send({event:"customEvent",eventCategory:"Post Lead Survey",eventAction:a[t],eventLabel:s.join(" - ")})}}},58469:function(e,t,r){"use strict";r.d(t,{S:function(){return c}});var n=r(85893),a=r(5152),o=r.n(a),i=r(67294),l=r(18903);let s=o()(()=>r.e(579).then(r.bind(r,20579)).then(e=>e.ShareModalComponent),{loadableGenerated:{webpack:()=>[20579]},ssr:!1}),c=e=>{var t,r;let{t:a}=(0,l.$)(),[o,c]=(0,i.useState)((null===(r=globalThis)||void 0===r?void 0:null===(t=r.navigator)||void 0===t?void 0:t.share)===void 0),[u,d]=(0,i.useState)(!1),p=(0,i.useCallback)(()=>o?null:u?(0,n.jsx)(s,{...e,onClose:()=>{var t;d(!1),null===(t=e.onClose)||void 0===t||t.call(e)}}):null,[o,u,d,e]);return{ShareComponent:p,onClick:()=>{navigator.share?navigator.share({text:e.text||a("Share_Text"),title:e.title,url:location.href}).then(()=>{var t;null===(t=e.onClose)||void 0===t||t.call(e)}).catch(t=>{switch(t.name){case"NotAllowedError":case"TypeError":case"DataError":console.error("Native share error:",t),c(!1),d(!0);break;case"AbortError":var r;null===(r=e.onClose)||void 0===r||r.call(e)}}):(c(!1),d(!0))}}}},42569:function(e,t,r){"use strict";r.d(t,{U:function(){return o}});let n=(e,t)=>{switch(e){case"yearly":return t("filters/price-period/year");case"monthly":return t("filters/price-period/month");case"weekly":return t("filters/price-period/week");case"daily":return t("filters/price-period/day");default:return t("buy")}};var a=r(88018);let o=e=>{let{t,value:r,locale:o,period:i,currencyCode:l,countryConfigs:s}=e;return"".concat((0,a.t)({t,figure:r,locale:o,currencyCode:l,countryConfigs:s})).concat(i&&"sell"!==i?n(i,t):"")}},88018:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(31845),a=r(22051);let o=e=>{let{t,figure:r,locale:o,currencyCode:i,countryConfigs:l}=e;return"".concat((0,n.numberFormat)(o,r)," ").concat(i||a.r[l.countryCode](t).currencyCode)}},36629:function(e,t,r){"use strict";r.d(t,{a:function(){return d}});var n=r(85893),a=r(66272),o=r(31845),i=r(4519),l=r(67294),s=r(18903),c=r(7455),u=r.n(c);let d=e=>{let{t}=(0,s.$)(),{buttonProps:r,className:c,children:d,maxHeight:p=168,testId:v="collapsing-description",openingText:f=t("ReadMore"),closingText:m=t("ReadLess"),showArrow:h,showFade:y=!0}=e,[g,C]=(0,l.useState)(0),[b,S]=(0,l.useState)(!1),w=(0,l.useCallback)(e=>{e&&C(e.scrollHeight)},[b]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{"data-testid":v,ref:w,className:(0,o.domClassMerge)(u().description,{[u()["description--trim"]]:y&&!b&&g>p},c),style:{maxHeight:b?g:p},children:d}),g>p&&(0,n.jsx)(a.Button,{theme:"secondary",onClick:()=>S(!b),...h?{icon:{component:b?i.IconChevronUp:i.IconChevronDown,position:"suffix"}}:{},...r,className:u().button,children:b?m:f})]})}},41571:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var n=r(31845);let a=(e,t)=>!!t.WEBSITE_PRIMARY_TAG&&("completed_primary"===e.completionStatus||"off_plan_primary"===e.completionStatus);function o(e,t,r,o,i){var l;let s=[],c=i.has("filtersSuperAgent");(e.isUnderOfferByAgent||e.isUnderOfferByCompetitor)&&s.push({type:"new-listing",text:r("Tags_UnderOffer")}),e.isVerified&&s.push({type:"verified",text:r("tags/verified")}),c&&(null===(l=e.agent)||void 0===l?void 0:l.isSuperAgent)&&s.push({type:"super-agent",text:"SuperAgent"}),a(e,o)&&s.push({type:"new-listing",text:r("Tags_FirstSale")}),e.isCommunityExpert&&s.push({type:"community-expert",text:r("tags/community-expert")}),e.isSpotlightListing&&s.push({type:"new-listing",text:r("Tags_Spotlight")}),i.has("somethingNewEveryday")&&e.isNewInsert&&s.push({type:"new-listing",text:r("tags/new-listing")}),e.isNewConstruction&&!e.isBrokerProjectProperty&&s.push({type:"direct-from-developer",text:r("tags/direct-from-developer")});let u=e.liveViewing;if(u){let e=(0,n.dateToLocale)(u.scheduledAt,t,"D MMM HH:mm");s.push({type:"live-viewing",text:"".concat(r("tags/live-viewing")," - ").concat(e)})}return s.length?s:void 0}},71182:function(e,t,r){"use strict";r.d(t,{F:function(){return h}});var n=r(85893),a=r(5152),o=r.n(a),i=r(89755),l=r.n(i),s=r(67294),c=r(9464),u=r(18903),d=r(31198),p=r(37446),v=r(1137);let f=o()(()=>r.e(9518).then(r.bind(r,9518)).then(e=>e.PropertyReportComponent),{loadableGenerated:{webpack:()=>[9518]},ssr:!1}),m=o()(()=>Promise.all([r.e(4141),r.e(7820),r.e(5873)]).then(r.bind(r,54154)).then(e=>e.AuthUnifiedModalComponent),{loadableGenerated:{webpack:()=>[54154]},ssr:!1}),h=e=>{let{property:t}=e,{user:r}=(0,s.useContext)(c.S),{t:a}=(0,u.$)(),o=(0,d.z)([p.Y.AUTH]),[i,h]=(0,s.useState)(null),y=(0,s.useCallback)(()=>{if(r)h("report");else{var e,t;null===(t=o.auth)||void 0===t||null===(e=t.onLoginModalOpen)||void 0===e||e.call(t,v.J.REPORT_PROPERTY),h("auth")}},[r,o]),g=(0,s.useCallback)(()=>{switch(i){case"auth":return(0,n.jsx)(m,{valueProposition:a("report/email-verification-title",{name:t.agent.name}),title:a("report/email-verification-heading"),onClose:()=>h(null),onSuccess:()=>h("report"),children:(0,n.jsx)(l(),{src:"/static/icons/report.svg",layout:"fixed",width:"143",height:"100"})});case"report":return(0,n.jsx)(f,{property:t,onClose:()=>h(null)});default:return null}},[i,t]);return{handleReportButtonClick:y,ReportPropertyComponent:g}}},30928:function(e,t,r){"use strict";r.d(t,{g:function(){return d}});var n,a=r(31845),o=r(22051),i=r(42569),l=r(88018),s=r(19865);let c=e=>{if(null==e)return e;if(Array.isArray(e))return e.map(e=>c(e));if("object"==typeof e){let t={};for(let[r,n]of Object.entries(e)){let e=(0,s.B)(r);t[e]="object"==typeof n?c(n):n}return t}return e},u=(e,t,r,s)=>{var c;return{...e,price:{...e.price,text:(0,i.U)({t,value:e.price.value,locale:r,period:e.price.period,countryConfigs:s})},size:{...e.size,text:"".concat((0,a.numberFormat)(r,e.size.value)," ").concat(o.r[s.countryCode](t).areaUnit)},isUnderOfferByAgent:!!e.isClaimedByAgent,propertyTypeName:e.propertyType,locationTreeCompact:null===(c=null!==(n=e.locationTree)&&void 0!==n?n:[])||void 0===c?void 0:c.map(e=>({id:e.id,n:e.name,l_t:e.type})),downPaymentPriceText:e.downPaymentPrice?"".concat(t("DownPayment"),": ").concat((0,l.t)({t,figure:e.downPaymentPrice,locale:r,countryConfigs:s})):void 0}},d=e=>{var t,r;let{data:n,t:a,locale:o,countryConfigs:i}=e,l=c(n||{});return{...l,properties:null===(t=l.properties)||void 0===t?void 0:t.map(e=>u(e,a,o,i)),similarProperties:null===(r=l.similarProperties)||void 0===r?void 0:r.map(e=>u(e,a,o,i))}}},31452:function(e,t,r){"use strict";r.d(t,{P:function(){return P}});var n=r(85893),a=r(8708),o=r(5152),i=r.n(o),l=r(89755),s=r.n(l),c=r(67294),u=r(40809),d=r(47148),p=r(58018),v=r(9464),f=r(64317),m=r(18903),h=r(31198),y=r(37446),g=r(41571),C=r(33235),b=r(1137),S=r(37517);let w="saved-property-confirm-dialog-timestamp",x=i()(()=>r.e(4425).then(r.bind(r,14425)).then(e=>e.SavedPropertyConfirmationComponent),{loadableGenerated:{webpack:()=>[14425]},ssr:!1}),k=i()(()=>Promise.all([r.e(4141),r.e(7820),r.e(5873)]).then(r.bind(r,54154)).then(e=>e.AuthUnifiedModalComponent),{loadableGenerated:{webpack:()=>[54154]},ssr:!1}),P=e=>{let{property:t,position:r}=e,{user:o}=(0,c.useContext)(v.S),{featureToggles:i,featureFlags:l,countryConfigs:P}=(0,C.A)(),_=(0,h.z)([y.Y.AUTH]),{t:A,locale:E,isRTL:T}=(0,m.$)(),j=(0,c.useContext)(d.H),[M,R]=(0,c.useState)(!1),I=(0,c.useContext)(p.S),O=(0,u.tm)(),[U,N]=(0,c.useState)(null),[D,B]=(0,c.useState)(!1),F=(0,c.useMemo)(()=>(0,g.I)(t,T,A,i,l),[t,i,l]),L=(0,c.useMemo)(()=>(null==F?void 0:F.map(e=>e.type).slice(0,3))||[],[F]),H=(0,c.useCallback)(e=>{switch(e){case"saved":I.alert({message:A("saved-property/saved-notify"),action:(0,n.jsx)("a",{href:(0,f.F)({locale:E,path:"/user/saved-properties",countryConfigs:P,relative:!0}),children:A("saved-property/manage-cta-label")})});break;case"unsaved":I.alert({message:A("saved-property/unsaved-notify")});break;case"warning":I.alert({message:A("saved-property/save-warning-alert"),action:(0,n.jsx)("button",{type:"button",onClick:()=>{var e,t;null===(t=_.auth)||void 0===t||null===(e=t.onLoginModalOpen)||void 0===e||e.call(t,b.J.SAVED_PROPERTIES),I.hide(),N("auth")},children:A("auth/login-to-continue")})})}},[E,A,_.completed]),G=(0,c.useCallback)(e=>{(0,a.X)({group:"property-card",type:"onSaveChange",payload:{property:t,isSaved:e,tags:L,position:r}}),j[e?"unSave":"save"](t.id)},[t,L,r,j]),z=(0,c.useCallback)(()=>{N(null),R(!0),H("saved"),G(!1)},[H,G]);(0,c.useEffect)(()=>{O()&&R(!!j.data.find(e=>e.propertyId===parseInt(t.id,10)))},[O,j.data,t.id]),(0,c.useEffect)(()=>{"saved-property-confirmation"===U&&(S.WindowService.localStorage.setItem(w,Date.now()),(0,a.X)({group:"property-card",type:"onSavePropertyNotificationOpen"}))},[U]),(0,c.useEffect)(()=>{o&&D&&(o.email||0!==j.data.length?(N(null),G(!1),R(!0),H("saved")):N("saved-property-confirmation"),B(!1))},[o,D,j]);let V=(0,c.useCallback)(()=>{let e=S.WindowService.localStorage.getItem(w)||0,t=(Date.now()-Number(e))/36e5;if(!M&&o&&!o.email&&(0===j.data.length||t>48))N("saved-property-confirmation");else if(o)R(!M),H(M?"unsaved":"saved"),G(M);else{var r,n;null===(n=_.auth)||void 0===n||null===(r=n.onLoginModalOpen)||void 0===r||r.call(n,b.J.SAVED_PROPERTIES),N("auth")}},[M,o,_,H,G]),Y=(0,c.useCallback)(()=>{switch(U){case"auth":return(0,n.jsx)(k,{valueProposition:A("saved-property/email-verification-title",{name:t.agent.name}),title:A("saved-property/email-verification-heading"),onClose:()=>{N(null),H("warning")},onSuccess:()=>B(!0),children:(0,n.jsx)(s(),{src:"/static/icons/saved-property.svg",layout:"fixed",width:"130",height:"78"})});case"saved-property-confirmation":return(0,n.jsx)(x,{description:0===j.data.length?A("SavedProperty_ConfirmationModalDescFirstSaved"):A("SavedProperty_ConfirmationModalDesc"),onSuccess:z,onClose:z,onCancel:z});default:return null}},[U,t]);return{isSaved:M,SavedPropertyComponent:Y,handleSaveButtonClick:V}}},7455:function(e){e.exports={description:"styles_desktop_description__XFS9u","description--trim":"styles_desktop_description--trim__7ds9f"}}}]);