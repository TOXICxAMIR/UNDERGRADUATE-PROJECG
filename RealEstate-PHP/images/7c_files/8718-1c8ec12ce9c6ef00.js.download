"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8718],{28718:function(e,t,l){l.r(t),l.d(t,{GalleryComponent:function(){return S},GalleryFullScreenComponent:function(){return R}});var n,r,i,a,o=l(31845),s=l(67294),c=l(4519),u=l(69991),g=l(40809);function m(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(l[n[r]]=e[n[r]]);return l}(n=i||(i={}))[n.PREVIOUS=-1]="PREVIOUS",n[n.NONE=0]="NONE",n[n.NEXT=1]="NEXT";let d=({itemsCount:e,rtl:t,directNavigation:l,rearrange:n,slidingIndex:r,isDragging:i})=>{let a={};if(i)r.forEach((e,l)=>{a[e]=(-100+100*l)*(t?-1:1)});else{let i=r[0]%(e-1)==0&&r[1]%(e-1)==0,o=(r[0]>r[1]?1:-1)*(n?-1:1)*(t?-1:1)*(i?l?1:-1:1);a[r[n?0:1]]=0,a[r[n?1:0]]=100*o}return a},_=(e,t)=>[(e-1+t)%t,e,(e+1)%t],y=(e,t,l)=>{let n=_(e,t.length);return{isDragging:!1,activeIndex:e,itemsPositionsX:t.reduce((e,t,l)=>void 0!==e[l]?e:Object.assign(Object.assign({},e),{[l]:100}),d({itemsCount:t.length,rtl:l,slidingIndex:n})),pointerPositionStartX:null,pointerPositionStartY:null,pointerPositionCurrentX:null,scrollDirection:null,isTouched:!1,browse:i.NONE,rearranging:!1,slidingIndex:n,goTo:null,directNavigation:!1}};(r=a||(a={})).VERTICAL="vertical",r.HORIZONTAL="horizontal";let h=(e,t,l)=>l>t?e?i.NEXT:i.PREVIOUS:e?i.PREVIOUS:i.NEXT,v=e=>{let t=Math.abs(e.pointerPositionSecondX-e.pointerPositionStartX),l=Math.abs(e.pointerPositionSecondY-e.pointerPositionStartY);return t>l?a.HORIZONTAL:a.VERTICAL},b=(e,t)=>(l,n)=>{switch(n.type){case"move":if(null!==l.pointerPositionStartX&&null!==l.pointerPositionStartY){let e=n.positionX,t=l.pointerPositionStartX-e,r=l.scrollDirection?l.scrollDirection:v({pointerPositionStartX:l.pointerPositionStartX,pointerPositionStartY:l.pointerPositionStartY,pointerPositionSecondX:n.positionX,pointerPositionSecondY:n.positionY}),i=Object.assign(Object.assign({},l),{pointerPositionCurrentX:e,scrollDirection:r});if(r===a.HORIZONTAL&&Math.abs(t)>10)return Object.assign(Object.assign({},i),{isDragging:!0});return i}break;case"end":{if(l.scrollDirection===a.VERTICAL||null===l.pointerPositionCurrentX||l.pointerPositionCurrentX===l.pointerPositionStartX)return Object.assign(Object.assign({},l),{isDragging:!1,pointerPositionStartX:null,pointerPositionCurrentX:null});let{activeIndex:n,itemsPositionsX:r}=l;if(null!==l.pointerPositionStartX&&null!==l.pointerPositionCurrentX){let a=l.pointerPositionStartX-l.pointerPositionCurrentX,o=e?-1:1,s=o*(l.isDragging?a<0?-1:1:l.browse===i.NEXT?1:-1),c=((n+s)%t+t)%t,u=_(c,t);return Object.assign(Object.assign({},l),{activeIndex:c,browse:l.isDragging?s>0?i.NEXT:i.PREVIOUS:l.browse,itemsPositionsX:Object.assign(Object.assign({},r),d({itemsCount:t,rtl:e,slidingIndex:u,isDragging:l.isDragging})),isDragging:!1,pointerPositionStartX:null,pointerPositionCurrentX:null,slidingIndex:u})}}break;case"start":return Object.assign(Object.assign({},l),{isDragging:!1,pointerPositionStartX:n.positionX,pointerPositionCurrentX:n.positionX,pointerPositionStartY:n.positionY,scrollDirection:null,browse:h(e,n.positionX,(n.galleryRight-n.galleryLeft)/2),isTouched:!0});case"goto":{let{activeIndex:r,itemsPositionsX:a,slidingIndex:o,directNavigation:s}=l;return Object.assign(Object.assign({},l),{activeIndex:n.index,browse:n.index>r?i.NEXT:i.PREVIOUS,itemsPositionsX:Object.assign(Object.assign({},a),d({itemsCount:t,rtl:e,directNavigation:s,slidingIndex:o})),rearranging:!1,goTo:null})}case"rearrange":{let{activeIndex:r,itemsPositionsX:i}=l,a=[r,n.index];if(r===n.index)return Object.assign(Object.assign({},l),{isTouched:!0});return Object.assign(Object.assign({},l),{activeIndex:r,itemsPositionsX:Object.assign(Object.assign({},i),d({itemsCount:t,rtl:e,directNavigation:n.directNavigation,rearrange:!0,slidingIndex:a})),isDragging:!1,pointerPositionStartX:null,pointerPositionCurrentX:null,isTouched:!0,rearranging:!0,slidingIndex:a,goTo:n.index,directNavigation:n.directNavigation})}}return l};var p={arrow:"styles-module_arrow__zdqnl","arrow--left":"styles-module_arrow--left__9XTyO","arrow--right":"styles-module_arrow--right__pEs1-"};let f=({arrowClassName:e,className:t,onClickLeft:l,onClickRight:n,rtl:r})=>{let i=(0,c.useIconRtl)(r,c.IconSpriteChevronLeftThick,c.IconSpriteChevronRightThick),a=(0,c.useIconRtl)(r,c.IconSpriteChevronRightThick,c.IconSpriteChevronLeftThick);return s.createElement(s.Fragment,null,s.createElement("button",{"data-testid":"gallery-left-arrow",title:"Previous photo",className:(0,o.domClassMerge)(p.arrow,p["arrow--left"],t,e),onClick:l},s.createElement(i,null)),s.createElement("button",{"data-testid":"gallery-right-arrow",title:"Next photo",className:(0,o.domClassMerge)(p.arrow,p["arrow--right"],t,e),onClick:n},s.createElement(a,null)))};var C={gallery:"gallery-component-module_gallery__OUMEa",gallery__arrows:"gallery-component-module_gallery__arrows__J5KwN",item:"gallery-component-module_item__vDuc-","item--with-drag":"gallery-component-module_item--with-drag__t3-HK","item--sliding":"gallery-component-module_item--sliding__S0ivk",link:"gallery-component-module_link__zCRbs"};let E=e=>{let t=0;return e.items.some((e,l)=>!e.isHidden||(t=-(l+1),!1)),t*e.itemWidth},O=(e,t,l)=>{let n=l-1,r=Math.ceil(n/2),i=e-Math.ceil(l/2)-1;return(0,o.arrayFromRange)(0,e).map(l=>{let a=l===t,o=!1;a?o=!0:t<=r?(l<t||l<=n)&&(o=!0):t>=i?(l>t||l>=e-n-1)&&(o=!0):Math.abs(t-l)<=r&&(o=!0);let s=!o;return{isActive:a,isHidden:s,isSmall:!a&&1!==Math.abs(t-l)}})};var w={container:"styles-module_container__Ymia1",items:"styles-module_items__f3p-m",dot:"styles-module_dot__q-1Yl","dot--active":"styles-module_dot--active__M7f9M","dot--small":"styles-module_dot--small__vCgkv","dot--hidden":"styles-module_dot--hidden__1qjDp"};let N=e=>{var{numberOfIndicators:t,indicatorsClassName:l}=e,n=m(e,["numberOfIndicators","indicatorsClassName"]);if(n.itemsCount<=1)return null;let r=t||7,i=O(n.itemsCount,n.activeIndex,r),a=e=>(0,o.domClassMerge)(w.dot,{[w["dot--active"]]:e.isActive,[w["dot--hidden"]]:e.isHidden,[w["dot--small"]]:e.isSmall}),c=E({items:i,itemWidth:n.itemWidth}),u={transform:`translateX(${c}px)`},g=n.itemsCount<r?n.itemsCount:r;return s.createElement("div",{className:(0,o.domClassMerge)(w.container,l),style:{direction:"ltr",width:n.itemWidth*g}},s.createElement("div",{className:w.items,style:u},i.map((e,t)=>s.createElement("div",{"data-testid":"gallery-indicator",key:t,className:a(e)}))))},X=e=>s.createElement("div",{tabIndex:0,"aria-label":"Photos gallery",ref:e.containerRef,className:(0,o.domClassMerge)(e.className,C.gallery),onMouseDown:e.onMouseDown,onTouchStart:e.onTouchStart,"data-testid":"gallery"},(e.isTouched?e.items:e.items.slice(e.activeIndex,e.activeIndex+1)).map(({Element:t,style:l},n)=>s.createElement("div",{"data-testid":"gallery-item",className:(0,o.domClassMerge)(C.item,e.itemClassName,{[C["item--with-drag"]]:e.withDrag,[C["item--sliding"]]:e.isTouched&&e.activeIndex!==n}),style:l,key:n},t)),e.withDotIndicators&&s.createElement(N,{itemWidth:10,itemsCount:e.items.length,activeIndex:e.activeIndex,rtl:e.rtl,numberOfIndicators:e.numberOfIndicators,indicatorsClassName:e.indicatorsClassName}),e.withArrowNavigation&&s.createElement(f,Object.assign({},e,{className:C.gallery__arrows}))),P=(e,t,l,n)=>{(0,s.useEffect)(()=>{var r,i;if(!t)return;let a=(e,t)=>{l({type:"move",positionX:e,positionY:t})},o=e=>{e.stopPropagation(),l({type:"end"})},s=e=>{a(e.clientX,e.clientY)},c=e=>{a(e.changedTouches[0].pageX,e.changedTouches[0].pageY)},u=e=>{o(e)};return window.addEventListener("mouseup",o),window.addEventListener("touchend",u),n&&(null===(r=e.current)||void 0===r||r.addEventListener("mousemove",s),null===(i=e.current)||void 0===i||i.addEventListener("touchmove",c)),()=>{var t,l;window.removeEventListener("mouseup",o),window.removeEventListener("touchend",u),n&&(null===(t=e.current)||void 0===t||t.removeEventListener("mousemove",s),null===(l=e.current)||void 0===l||l.removeEventListener("touchmove",c))}})},S=e=>{var{children:t,rtl:l,withDrag:n=!1,initialIndex:r=0,bindGoTo:a,onActiveIndexChange:c=o.functionNoop,onTouch:u=o.functionNoop,onDrag:g=o.functionNoop}=e,d=m(e,["children","rtl","withDrag","initialIndex","bindGoTo","onActiveIndexChange","onTouch","onDrag"]);let _=(0,s.useRef)(null),h=t.length,[v]=(0,s.useState)(()=>b(l,h)),[p]=(0,s.useState)(()=>y(r,t,l)),[f,C]=(0,s.useReducer)(v,p),{activeIndex:E}=f;P(_,null!==f.pointerPositionStartX,C,n);let O=(0,o.usePrevious)(E);null!==O&&O!==E&&setTimeout(()=>null==c?void 0:c(E,h));let w=(e,t)=>{let l=_.current.getBoundingClientRect();C({type:"start",positionX:e,positionY:t,galleryLeft:l.left,galleryRight:l.right}),u()},N=h>1,S=t.map((e,t)=>Object.assign(Object.assign({},e),{Element:e,style:N?function(e,t){let l=e.slidingIndex,n=l.includes(t);if(n){if(e.isDragging&&null!==e.pointerPositionCurrentX&&null!==e.pointerPositionStartX){let l=e.pointerPositionCurrentX-e.pointerPositionStartX,n={transitionDuration:"0ms",transform:`translateX(calc(${e.itemsPositionsX[t]}% + ${l}px))`};return n}let n={transitionDuration:"300ms",transform:`translateX(${e.itemsPositionsX[t]}%)`};return 3===l.length?(e.browse===i.NONE||e.browse===i.NEXT&&t===l[2]||e.browse===i.PREVIOUS&&t===l[0])&&(n.transitionDuration="0ms"):e.rearranging&&(n.transitionDuration="0ms"),n}return{transform:`translateX(${e.itemsPositionsX[t]}%)`}}(f,t):{}}));return(0,o.useConstructor)(()=>{null==a||a((e,t)=>{let l=_.current.getBoundingClientRect();C({type:"start",positionX:t.clientX,positionY:t.clientY,galleryLeft:l.left,galleryRight:l.right}),C({type:"rearrange",directNavigation:!0,index:e})})}),(0,s.useEffect)(()=>{f.rearranging&&C({type:"goto",index:f.goTo})},[f.rearranging]),(0,s.useEffect)(()=>{f.isDragging&&g()},[f.isDragging]),s.createElement(X,Object.assign({},d,{withDrag:n,items:S,containerRef:_,isTouched:f.isTouched,activeIndex:f.activeIndex,rtl:l,onClickLeft:()=>{let e=l?1:-1,t=((E+e)%h+h)%h;C({type:"rearrange",directNavigation:!1,index:t})},onClickRight:()=>{let e=l?-1:1,t=((E+e)%h+h)%h;C({type:"rearrange",directNavigation:!1,index:t})},onMouseDown:e=>{e.preventDefault(),w(e.clientX,e.clientY)},onTouchStart:e=>{w(e.changedTouches[0].pageX,e.changedTouches[0].pageY)}}))};var I={"gallery-full-screen__container":"styles-module_gallery-full-screen__container__xk5eH","gallery-full-screen__overlay":"styles-module_gallery-full-screen__overlay__4UEQP","gallery-full-screen__close-button":"styles-module_gallery-full-screen__close-button__GLMVK","gallery-full-screen__sections":"styles-module_gallery-full-screen__sections__OETD-","gallery-full-screen__section":"styles-module_gallery-full-screen__section__eHcq0","gallery-full-screen__section--active":"styles-module_gallery-full-screen__section--active__ntYa5","gallery-full-screen__inner-gallery":"styles-module_gallery-full-screen__inner-gallery__vWehY","gallery-full-screen__counter":"styles-module_gallery-full-screen__counter__MO1tC"},T={"gallery-thumbnails__container":"styles-module_gallery-thumbnails__container__gNbkR","gallery-thumbnails__container__overflow":"styles-module_gallery-thumbnails__container__overflow__fX-6y","gallery-thumbnails__arrow":"styles-module_gallery-thumbnails__arrow__-Y1DM","gallery-thumbnails__arrow--left":"styles-module_gallery-thumbnails__arrow--left__avQcS","gallery-thumbnails__arrow--right":"styles-module_gallery-thumbnails__arrow--right__0c6AR","gallery-thumbnails__list":"styles-module_gallery-thumbnails__list__5uZxc","gallery-thumbnails__list__item":"styles-module_gallery-thumbnails__list__item__G9-ki","gallery-thumbnails__list__item--active":"styles-module_gallery-thumbnails__list__item--active__O5O8i"};let k=({activeIndex:e,onThumbnailClick:t,rtl:l,thumbnails:n})=>{let r=(0,s.useRef)(null),i=(0,s.useRef)(null),a=(0,s.useRef)(null),u=(0,g.S1)(i,{threshold:1}),m=(0,g.S1)(a,{threshold:1}),d=!(null==u?void 0:u.isIntersecting),_=!(null==m?void 0:m.isIntersecting),y=(0,o.usePrevious)(e),h=(0,s.useCallback)(t=>{var l;t&&y!==e&&(null===(l=t.scrollIntoView)||void 0===l||l.call(t,{behavior:"smooth",inline:"center"}))},[e,y]);return s.createElement("div",{className:T["gallery-thumbnails__container"]},d?s.createElement("button",{className:(0,o.domClassMerge)(T["gallery-thumbnails__arrow"],T["gallery-thumbnails__arrow--left"]),"data-testid":"gallery-thumbnail-left-arrow",onClick:()=>{var e;null===(e=r.current)||void 0===e||e.scrollBy({left:-100,behavior:"smooth"})}},s.createElement(c.IconChevronLeft,null)):null,_?s.createElement("button",{className:(0,o.domClassMerge)(T["gallery-thumbnails__arrow"],T["gallery-thumbnails__arrow--right"]),"data-testid":"gallery-thumbnail-right-arrow",onClick:()=>{var e;null===(e=r.current)||void 0===e||e.scrollBy({left:150,behavior:"smooth"})}},s.createElement(c.IconChevronRight,null)):null,s.createElement("div",{"data-testid":"gallery-thumbnails-container",className:T["gallery-thumbnails__container__overflow"],ref:r},s.createElement("div",{"data-testid":"gallery-thumbnails",className:T["gallery-thumbnails__list"]},n.map((r,c)=>s.createElement("button",{"data-testid":`gallery-thumbnail-${c}`,className:(0,o.domClassMerge)(T["gallery-thumbnails__list__item"],{[T["gallery-thumbnails__list__item--active"]]:e===c}),key:c,onClick:e=>{t(c,e)},ref:t=>{c===e&&h(t),0===c?(l?a:i).current=t:c===n.length-1&&((l?i:a).current=t)}},r)))))},x=e=>{var{activeIndex:t,className:l,onOverlayClick:n,onCloseButtonClick:r,sections:i,showCounter:a,thumbnails:u}=e,g=m(e,["activeIndex","className","onOverlayClick","onCloseButtonClick","sections","showCounter","thumbnails"]);let d=(0,s.useRef)(null);return s.createElement("div",{className:(0,o.domClassMerge)(I["gallery-full-screen__container"],l)},s.createElement("button",{"data-testid":"gallery-overlay-button",className:I["gallery-full-screen__overlay"],type:"button",onClick:n}),s.createElement("button",{"data-testid":"gallery-close-button",className:I["gallery-full-screen__close-button"],type:"button",onClick:r},s.createElement(c.IconTimesThick,null)),(null==i?void 0:i.length)?s.createElement("div",{className:I["gallery-full-screen__sections"],"data-testid":"gallery-sections"},i.map((e,l)=>s.createElement("button",{className:(0,o.domClassMerge)(I["gallery-full-screen__section"],{[I["gallery-full-screen__section--active"]]:t>=e.indexes.start&&t<=e.indexes.end}),onClick:t=>{var l,n;null===(l=d.current)||void 0===l||l.call(d,e.indexes.start,t),null===(n=e.onClick)||void 0===n||n.call(e,e.title)},key:l},e.title," (",g.children.slice(e.indexes.start,e.indexes.end+1).length,")"))):null,s.createElement(S,Object.assign({className:I["gallery-full-screen__inner-gallery"]},g,{bindGoTo:e=>{d.current=e}})),a?s.createElement("div",{"data-testid":"gallery-counter",className:I["gallery-full-screen__counter"]},`${t+1}/${g.children.length}`):null,u?s.createElement(k,{rtl:g.rtl,thumbnails:u,activeIndex:t,onThumbnailClick:(e,t)=>{var l;return null===(l=d.current)||void 0===l?void 0:l.call(d,e,t)}}):null)},R=e=>{var{documentBodyClassName:t="gallery-block-overflow",onCloseButtonClick:l,onOverlayClick:n,onActiveIndexChange:r,onOpen:i,onClose:a}=e,c=m(e,["documentBodyClassName","onCloseButtonClick","onOverlayClick","onActiveIndexChange","onOpen","onClose"]);let{open:g,setOpen:d}=(0,o.useOnFullScreen)({documentBodyClassName:t,openOnLoad:!0,onOpen:i,onClose:a}),[_,y]=(0,s.useState)(0);return g?s.createElement(u.i,null,s.createElement(x,Object.assign({},c,{activeIndex:_,onActiveIndexChange:(e,t)=>{null==r||r(e,t),y(e)},onOverlayClick:()=>{d(!1),null==n||n()},onCloseButtonClick:()=>{d(!1),null==l||l()}}))):null}}}]);