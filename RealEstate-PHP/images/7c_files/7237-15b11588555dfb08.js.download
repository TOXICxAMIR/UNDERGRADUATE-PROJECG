(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7237],{89383:function(e,t,s){"use strict";s.d(t,{h:function(){return v}});var n=s(85893),a=s(31845),l=s(4519),i=s(67294),r=s(18190),o=s(93059),_=s(47148),c=s(9464),u=s(95771),d=s(18903),m=s(33235),h=s(72361),p=s.n(h);let v=e=>{let{className:t,rtl:s}=e,{countryConfigs:h}=(0,m.A)(),{t:v,locale:g}=(0,d.$)(),f=(0,i.useContext)(c.S),x=(0,i.useContext)(_.H),k=(0,i.useContext)(r.$),y=(0,i.useContext)(o.k),{personalInformationLink:C,contactedPropertiesLink:j,savedPropertiesLink:N,savedSearchesLink:E}=(0,u.A)(g,h),[A,T]=(0,i.useState)(null);(0,i.useEffect)(()=>T(f.user),[f]);let b=(0,i.useMemo)(()=>A?{href:C,text:v("UserMenu_PersonalInformationLink")}:null,[A]),I=(0,i.useMemo)(()=>[{href:j,text:v("menu/user-links/contacted-properties"),count:k.data.length},{href:N,text:v("menu/user-links/saved-properties"),count:x.data.length},{href:E,text:v("menu/user-links/saved-searches"),count:y.data.length}],[k,x,y]),S=s?l.IconSpriteChevronLeft:l.IconSpriteChevronRight;return(0,n.jsxs)("ul",{className:(0,a.domClassMerge)(p()["user-links"],t),children:[b&&(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:b.href,className:p()["user-links__item"],children:[b.text,(0,n.jsx)(S,{className:p()["user-links__item-icon"]})]})},null==A?void 0:A.userId),I.map((e,t)=>(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:e.href,className:p()["user-links__item"],children:[e.text," (",A&&e.count||0,")",(0,n.jsx)(S,{className:p()["user-links__item-icon"]})]})},t))]})}},84995:function(e,t,s){"use strict";var n,a;s.d(t,{T:function(){return n}}),(a=n||(n={})).SORT="sort",a.QUERY="query",a.CATEGORY_ID="filter[category_id]",a.PROPERTY_TYPE_ID="filter[property_type_id]",a.LOCATION_IDS="filter[locations_ids]",a.BEDROOMS="filter[number_of_bedrooms]",a.BATHROOMS="filter[number_of_bathrooms]",a.MIN_PRICE="filter[min_price]",a.MAX_PRICE="filter[max_price]",a.FURNISHING="filter[furnished]",a.MIN_AREA="filter[min_area]",a.MAX_AREA="filter[max_area]",a.PRICE_PERIOD="filter[price_type]",a.KEYWORD="filter[keywords]",a.AMENITIES="filter[amenities]",a.COMPLETION_STATUS="filter[completion_status]",a.EXCLUDE_LOCATIONS_DESCENDANTS="filter[exclude_locations_descendants]",a.EXACT_LOCATION="filter[exact_location]",a.BOUNDING_BOX="filter[bounding_box]",a.GEOHASH_VIEWPORT="filter[geohash_viewport]",a.HASH_BOX="filter[hash_box]",a.UTILITIES_PRICE_TYPE="filter[utilities_price_type]",a.VIRTUAL_VIEWINGS="filter[virtual_viewings]",a.IS_DEVELOPER_PROPERTY="filter[is_developer_property]",a.MIN_INSTALLMENT_YEARS="filter[min_installment_years]",a.MAX_INSTALLMENT_YEARS="filter[max_installment_years]",a.PAGE_NUMBER="page[number]",a.PAGE_LIMIT="page[limit]",a.VERIFIED="filter[verified]",a.SUPER_AGENT="filter[trusted_agent]",a.PROJECT_PHASE="filter[project_phase]",a.CONTRACT_STATUS="filter[contract_status]",a.SOLD_BY="filter[sold_by]",a.LISTED_WITHIN="filter[listed_within]",a.PAYMENT_METHODS="filter[payment_methods]",a.NEW_PROJECTS="filter[new_projects]",a.BROKER_ID="filter[broker_id]"},97237:function(e,t,s){"use strict";s.d(t,{G:function(){return er}});var n=s(85893),a=s(5152),l=s.n(a),i=s(89755),r=s.n(i),o=s(67294),_=s(47148),c=s(9464),u=s(18903),d=s(31198),m=s(37446),h=s(1137),p=s(8708),v=s(4519),g=s(66272),f=s(766),x=s(31845),k=s(22952),y=s.n(k);let C=e=>{let{className:t,small:s,src:a}=e;return(0,n.jsx)("div",{"data-testid":"avatar",className:(0,x.domClassMerge)(y().avatar,t,{[y()["avatar--small"]]:s}),children:(0,n.jsx)("img",{src:a||"/static/images/agent-image-placeholder.jpg",alt:"User Avatar",className:y().avatar__image})})};var j=s(64317),N=s(33235),E=s(39609),A=s(12154),T=s.n(A),b=s(89383);let I=e=>{let{user:t,onLoginClick:s}=e,{countryConfigs:a}=(0,N.A)(),{t:l,isRTL:i,locale:r}=(0,u.$)(),{close:_,Popover:c,onMouseEnter:d}=(0,f.S)(),[m,h]=(0,o.useState)(()=>!1),v=(0,o.useMemo)(()=>{if(t){let e="";if(t.first_name&&(e+=t.first_name),t.last_name&&(e+=" ".concat(t.last_name)),e)return e}return l("auth/my-account")},[t]),x=(0,o.useCallback)(()=>t?(0,n.jsx)("a",{"data-testid":"avatar-link",onMouseEnter:d,className:T().user__link,href:(0,j.F)({locale:r,path:"/user",countryConfigs:a,relative:!0}),"aria-label":"User account",children:(0,n.jsx)(C,{src:t.image,small:!0})}):(0,n.jsx)(g.Button,{size:"small",theme:"secondary",onClick:()=>{(0,p.X)({type:"header-login-button-click"}),s()},onMouseEnter:d,"aria-expanded":!1,role:"dialog","aria-label":"Login to Property Finder",children:l("log-in")}),[t,s]),k=(0,o.useCallback)(()=>t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{src:t.image}),(0,n.jsx)("p",{className:T()["auth-menu__user-details"],children:v}),(0,n.jsx)(g.Button,{className:T()["auth-menu__link-button"],loading:m,size:"small",theme:"link","data-testid":"menu-logout-button",onClick:()=>{h(!0),E.e.logOut()},children:l("menu/logout")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:T()["auth-menu__intro"],children:l("auth/menu/intro")}),(0,n.jsx)(g.Button,{onClick:s,theme:"primary",className:T()["auth-menu__login-button"],children:l("auth/menu/sign-in")}),(0,n.jsx)(g.Button,{onClick:s,theme:"link",className:T()["auth-menu__link-button"],children:l("auth/menu/create-account")})]}),[t,s]);return(0,o.useEffect)(()=>{t||(h(!1),_())},[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{}),(0,n.jsxs)(c,{className:T()["auth-menu"],rtl:i,horizontalPosition:"right",children:[(0,n.jsx)("div",{className:T()["auth-menu__intro-section"],children:(0,n.jsx)(k,{})}),(0,n.jsx)(b.h,{className:T()["auth-menu__landing-pages"],rtl:i})]})]})};var S=s(13290),O=s(22051),P=s(86034),R=s.n(P);let L=()=>{let{countryConfigs:e}=(0,N.A)(),{t,isRTL:s}=(0,u.$)(),[a,l]=(0,o.useState)(!1),{onClick:i,Popover:_}=(0,f.S)();return(0,n.jsxs)("div",{children:[(0,n.jsxs)("button",{className:R().button,"aria-label":"Country selector - current country ".concat(O.r[e.countryCode](t).name),onClick:i,"aria-expanded":a?"true":"false",name:O.r[e.countryCode](t).name,"data-testid":"CountrySelect",children:[(0,n.jsx)(r(),{src:"/static/icons/flags/".concat(e.countryCode,".svg"),alt:"Flag for ".concat(O.r[e.countryCode](t).name," country selection"),width:18,height:14}),(0,n.jsx)("div",{className:R().label,children:O.r[e.countryCode](t).name}),(0,n.jsx)(v.IconChevronDownSmall,{className:R().icon})]}),(0,n.jsx)(_,{rtl:s,className:R().dropdown,horizontalPosition:"center",onOpen:()=>l(!0),onClose:()=>l(!1),children:(0,S.U)(t).filter(t=>t.flag!==e.countryCode).map(e=>(0,n.jsxs)("a",{href:e.target,className:R().dropdown__link,title:"Flag for ".concat(e.translationKey," country selection"),children:[(0,n.jsx)(r(),{src:"/static/icons/flags/".concat(e.flag,".svg"),alt:"Flag for ".concat(e.translationKey," country selection"),width:18,height:14}),(0,n.jsx)("span",{className:R()["dropdown__link-text"],children:e.translationKey})]},e.translationKey))})]})};var M=s(25694),w=s(56827),D=s(11163),U=s(25154),B=s(99279),H=s(64710),F=s(33321),Y=s(39656),G=s.n(Y);let K=e=>{let{t}=(0,u.$)(),{asPath:s,query:a}=(0,D.useRouter)(),l=F.O.getLocale(),{pageType:i,countryConfigs:r}=(0,N.A)(),{current:o,alternative:_}=r.language,c=(0,H.B)(l,r)?_:o,d=((null==a?void 0:a.pattern)||i===B.D.LTP)&&e.alternateUrl?e.alternateUrl:s,m="/".concat(c).concat(d).replace(/(.+)(\/)$/,"$1");return(0,n.jsx)("div",{className:G().container,"data-testid":"language-selector",children:(0,n.jsx)("a",{"aria-label":"Language selector - switch to ".concat(O.r[r.countryCode](t).language[c]),"data-testid":"language-selector-link",href:m,className:(0,x.domClassMerge)(G().link,{[G().linkAr]:c===U.z.AR}),children:O.r[r.countryCode](t).language[c]})})};var W=s(95771),z=s(99706);let X=()=>null;var $=s(92926),V=s(84543),q=s(79715),Z=s(69448),J=s(84995),Q=s(57473),ee=s(81760),et=s.n(ee);let es=()=>{let{t:e,isRTL:t}=(0,u.$)(),s=(0,o.useContext)(Z.o),{pageUrl:a,countryConfigs:l}=(0,N.A)(),i=t=>{var l,i;let{translationKey:r,...o}=t;return(0,n.jsxs)("a",{...o.external?{href:o.target}:{},title:r,className:(0,x.domClassMerge)(et()["list__item-link"],{[et()["list__item-link--active"]]:null===(i=o.activeCondition)||void 0===i?void 0:i.call(o,a,null===(l=s.value)||void 0===l?void 0:l[J.T.CATEGORY_ID])}),children:[r,o.newTag?(0,n.jsx)(q.Tag,{type:"new-listing",size:"small",className:et()["list__item-tag"],children:e("tags/new-listing")}):null]})},r=(l,i)=>{let{Dropdown:r,onMouseEnter:_}=(0,$.useDropdownList)(),c=(0,o.useMemo)(()=>i.filter(e=>{let{rtlSupport:s=!0}=e;return!t||t&&s}).map(t=>{var l,i,r,o;return{type:"anchor",label:(0,n.jsxs)(n.Fragment,{children:[t.translationKey,t.newTag&&(0,n.jsx)(q.Tag,{type:"new-listing",size:"small",className:et()["list__item-tag"],children:e("tags/new-listing")})]}),href:t.target,onClick:t.onClick,htmlAttributes:{className:(0,x.domClassMerge)(et()["list__item-link"],et()["list__item-link--child"],{[et()["list__item-link--child-active"]]:null===(i=t.activeCondition)||void 0===i?void 0:i.call(t,a,null===(l=s.value)||void 0===l?void 0:l[J.T.CATEGORY_ID])})},active:null===(o=t.activeCondition)||void 0===o?void 0:o.call(t,a,null===(r=s.value)||void 0===r?void 0:r[J.T.CATEGORY_ID])}}),[i,t]);return(0,n.jsxs)("button",{className:et()["list__item-link"],onMouseEnter:_,children:[l,(0,n.jsx)(v.IconSpriteChevronDown,{className:et().icon}),(0,n.jsx)(r,{popoverClassName:et()["list__item-link__popover"],rtl:t,horizontalPosition:"center",elements:c,itemClassName:(0,x.domClassMerge)(et()["list__item-link"],et()["list__item-link--child"])})]})};return(0,n.jsx)("nav",{className:et().container,"aria-label":"What are you looking for?",children:(0,n.jsx)("ul",{className:et().list,children:(0,Q.W)(l,e).main.map((e,t)=>e.external?(0,n.jsx)("li",{"aria-current":"page",children:(0,n.jsx)(i,{...e})},"".concat(e.translationKey,"-").concat(t)):(0,n.jsx)("li",{className:et().list__item,children:e.children?r(e.translationKey,e.children):(0,n.jsx)(V.Link,{href:e.target,children:(0,n.jsx)(i,{...e})})},"".concat(e.translationKey,"-").concat(t)))})})};var en=s(61227),ea=s.n(en);let el=e=>{let{userProfile:t,languageSelectorVisible:s=!0,alternateUrl:a,onLoginClick:l}=e,{countryConfigs:i}=(0,N.A)(),{t:r,locale:o}=(0,u.$)(),{savedPropertiesLink:_}=(0,W.A)(o,i),c=(0,z.W)(w.e,M.N);return(0,n.jsx)("header",{className:ea().header,children:(0,n.jsxs)("div",{className:ea().container,children:[(0,n.jsx)("a",{"data-testid":"logo",href:(0,H.B)(o,i)?"/":"/".concat(i.language.alternative),title:"".concat(r("logo-title")," - ").concat(r("country-name")),"aria-label":"".concat(r("logo-title")," - ").concat(r("country-name")),className:ea().logo,children:(0,n.jsx)(c,{})}),(0,n.jsx)(es,{}),(0,n.jsxs)("div",{className:ea().actions,children:[(0,n.jsx)(L,{}),s&&(0,n.jsx)(K,{alternateUrl:a}),(0,n.jsxs)("a",{href:_,title:"Saved ".concat((null==t?void 0:t.savedPropertiesCount)||0," properties"),className:ea()["saved-properties__button"],"data-testid":"user-saved-properties",onClick:()=>(0,p.X)({type:"header-saved-properties"}),children:[(0,n.jsx)(v.IconHeartThick,{className:ea()["saved-properties__icon"]}),t&&(null==t?void 0:t.savedPropertiesCount)>0&&(0,n.jsx)("span",{className:ea()["saved-properties__counter"],"data-testid":"notification-badge",children:null==t?void 0:t.savedPropertiesCount})]}),(0,n.jsx)(X,{}),(0,n.jsx)("div",{className:ea()["user-container"],children:(0,n.jsx)(I,{user:null==t?void 0:t.user,onLoginClick:l})})]})]})})},ei=l()(()=>Promise.all([s.e(4141),s.e(8100),s.e(7820),s.e(4571)]).then(s.bind(s,54154)).then(e=>e.AuthUnifiedModalComponent),{loadableGenerated:{webpack:()=>[54154]},ssr:!1}),er=(0,o.memo)(e=>{let{t}=(0,u.$)(),[s,a]=(0,o.useState)(!1),[l,i]=(0,o.useState)(null),p=(0,o.useContext)(c.S),v=(0,o.useContext)(_.H),g=(0,d.z)([m.Y.AUTH]),f=(0,o.useCallback)(()=>{var e,t;a(!0),null===(t=g.auth)||void 0===t||null===(e=t.onLoginModalOpen)||void 0===e||e.call(t,h.J.HEADER)},[g.completed]);return(0,o.useEffect)(()=>i(p.user),[p.user]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(el,{userProfile:{user:l,savedPropertiesCount:v.data.length},onLoginClick:f,...e}),s&&(0,n.jsx)(ei,{valueProposition:t("auth/email-verification-title"),onClose:()=>a(!1),onSuccess:()=>a(!1),children:(0,n.jsx)(r(),{src:"/static/icons/account-benefits.svg",layout:"fixed",width:141,height:100})})]})})},93059:function(e,t,s){"use strict";s.d(t,{k:function(){return a}});var n=s(67294);let a=(0,n.createContext)({ok:null,data:[],filtered:[],create:()=>Promise.resolve({ok:!0,data:{},headers:{}})})},95771:function(e,t,s){"use strict";s.d(t,{A:function(){return a}});var n=s(64317);let a=(e,t)=>({personalInformationLink:(0,n.F)({locale:e,path:"/user/detail",relative:!0,countryConfigs:t}),contactedPropertiesLink:(0,n.F)({locale:e,path:"/user/contacted-properties",relative:!0,countryConfigs:t}),savedPropertiesLink:(0,n.F)({locale:e,path:"/user/saved-properties",relative:!0,countryConfigs:t}),savedSearchesLink:(0,n.F)({locale:e,path:"/user/saved-searches",relative:!0,countryConfigs:t}),profileLink:(0,n.F)({locale:e,path:"/user",relative:!0,countryConfigs:t})})},22952:function(e){e.exports={avatar:"styles_avatar__co2Li","avatar--small":"styles_avatar--small___E_V7",avatar__image:"styles_avatar__image__Mb8BH"}},12154:function(e){e.exports={"auth-menu":"styles_auth-menu__T_m7d","auth-menu__intro-section":"styles_auth-menu__intro-section__X1JrU","auth-menu__link-button":"styles_auth-menu__link-button___q_Ps","auth-menu__login-button":"styles_auth-menu__login-button__TSeif","auth-menu__landing-pages":"styles_auth-menu__landing-pages__qHREs","auth-menu__user-avatar":"styles_auth-menu__user-avatar__Aq8Bm","auth-menu__user-details":"styles_auth-menu__user-details__MPUo_"}},72361:function(e){e.exports={"user-links":"styles_user-links__SeXZo","user-links__item":"styles_user-links__item__MouBV","user-links__item-icon":"styles_user-links__item-icon__B_G08"}},86034:function(e){e.exports={button:"styles_button__LnzcI",icon:"styles_icon__C7W14",label:"styles_label__LY9Aj",flag:"styles_flag__ybZUo",dropdown:"styles_dropdown__W8y1K",dropdown__link:"styles_dropdown__link__iOmwu","dropdown__link-text":"styles_dropdown__link-text__emimB"}},81760:function(e){e.exports={container:"styles_container__PiqnD",list:"styles_list__O4tWB",list__item:"styles_list__item__Ogukg","list__item-link":"styles_list__item-link__xW2gk","list__item-link__popover":"styles_list__item-link__popover__PB8Z8","list__item-link--child":"styles_list__item-link--child__cKxUE","list__item-link--child-active":"styles_list__item-link--child-active__z4HGS","list__item-link--active":"styles_list__item-link--active__8Z8EK","list__item-tag":"styles_list__item-tag__Z6dLH",icon:"styles_icon__mR4L4"}},61227:function(e){e.exports={header:"styles_desktop_header__k0Yce",container:"styles_desktop_container__uHwu_",logo:"styles_desktop_logo__m5kfV",actions:"styles_desktop_actions__b3FUr","saved-properties__button":"styles_desktop_saved-properties__button__Wx6HM","saved-properties__icon":"styles_desktop_saved-properties__icon__qAqpf","saved-properties__counter":"styles_desktop_saved-properties__counter__wcOHr","user-container":"styles_desktop_user-container__aefRL"}},39656:function(e){e.exports={container:"styles_container__kIOP4",link:"styles_link__mapae"}}}]);